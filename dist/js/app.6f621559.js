(function(e){function t(t){for(var a,u,o=t[0],l=t[1],i=t[2],s=0,f=[];s<o.length;s++)u=o[s],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&f.push(c[u][0]),c[u]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);b&&b(t);while(f.length)f.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==c[l]&&(a=!1)}a&&(r.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},c={app:0},r=[];function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var b=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0023":function(e,t,n){"use strict";n("3875")},"04b0":function(e,t,n){e.exports=n.p+"img/default_flame_3.ab627e1b.png"},"159e":function(e,t,n){},1771:function(e,t,n){var a={"./default_flame_1.png":"bbd1","./default_flame_2.png":"bf47","./default_flame_3.png":"04b0","./fracflame_default.jpg":"37b1","./logo.png":"cf05"};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id="1771"},"19db":function(e,t,n){},"31e3":function(e,t,n){"use strict";n("5a59")},"37b1":function(e,t,n){e.exports=n.p+"img/fracflame_default.886d7681.jpg"},3875:function(e,t,n){},4121:function(e,t,n){"use strict";n("a576")},"5a59":function(e,t,n){},"6a9c":function(e,t,n){},"6b84":function(e,t,n){"use strict";n("6a9c")},"9f2a":function(e,t,n){"use strict";n("159e")},a576:function(e,t,n){},a705:function(e,t,n){"use strict";n("dd22")},b299:function(e,t,n){},bbd1:function(e,t,n){e.exports=n.p+"img/default_flame_1.a07de142.png"},bf47:function(e,t,n){e.exports=n.p+"img/default_flame_2.bfafd27d.png"},cd2b:function(e,t,n){"use strict";n("b299")},cd49:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=n("5927"),r=n("8f5d"),u=n("d2b6"),o=n("48da"),l=n("8c9c"),i=n("0b196"),b=n("5502"),s=n("9ab4");function f(e,t,n,a,c){return void 0===a&&(a=!0),void 0===c&&(c=!0),e?(t=Math.ceil(t)+(a?0:1),n=Math.floor(n)+(c?1:0),Math.floor(Math.random()*(n-t)+t)):Math.random()*(n-t)+t}function j(e,t){var n=Math.pow(10,Math.round(t));return Math.round((e+Number.EPSILON)*n)/n}function O(e,t,n,a){void 0===a&&(a=0);var c=0,r=Object(s["d"])(e);if(r.forEach((function(e){c+=e})),r.forEach((function(e,n){r[n]*=t/c})),n){r.forEach((function(e,t){r[t]=j(r[t],a)}));for(var u=t,o=0;o<r.length-1;o++)u-=r[o];r[r.length-1]=u}return r}function d(e){var t=0;e.forEach((function(e){t+=e}));var n=Math.random()*t-e[0],a=0;while(n>0)a++,n-=e[a];return a}function v(e){for(var t=[],n=0;n<e;n++)t[n]=n;for(n=e-1;n>0;n--){var a=f(!0,0,n,!0,!1),c=t[a];t[a]=t[n],t[n]=c}return t}function h(e){return new Date(e).toLocaleString("zh-CN",{hour12:!1})}function m(e){return n("1771")("./"+e)}function p(e,t){for(var n=new ImageData(e,t),a=3;a<e*t;a+=4)n.data[a]=255;return n}var g=function(){function e(e,t,n,a){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===a&&(a=0),e?(this.r=f(!0,0,255),this.g=f(!0,0,255),this.b=f(!0,0,255)):(this.r=t,this.g=n,this.b=a)}return e.mix=function(e,t){e.r=Math.round((e.r+t.r)/2),e.g=Math.round((e.g+t.g)/2),e.b=Math.round((e.b+t.b)/2)},e.parseString=function(t){var n=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/g,a=n.exec(t);return a?new e(!1,parseInt(a[1]),parseInt(a[2]),parseInt(a[3])):new e},e.toString=function(e){return"rgb("+e.r+", "+e.g+", "+e.b+")"},e}(),w=function(){function e(e,t,n,a){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===a&&(a=new g(!1,1,1,1)),e?(this.x=f(!1,-1,1),this.y=f(!1,-1,1),this.color=new g(!0)):(this.x=t,this.y=n,this.color=a)}return e}(),P=function(){function e(){}return e.radius=function(e,t){return Math.sqrt(e*e+t*t)},e.radiusSquare=function(e,t){return e*e+t*t},e.theta=function(e,t){return Math.atan2(e,t)},e.phi=function(e,t){return Math.atan2(t,e)},e.omega=function(){return Math.random()>.5?0:Math.PI},e.psi=function(){return Math.random()},e}(),_=[{name:"linear",func:function(e){return[e.x,e.y]}},{name:"sinusoidal",func:function(e){return[Math.sin(e.x),Math.sin(e.y)]}},{name:"cosine",func:function(e){var t=e.x,n=e.y;return[Math.cos(Math.PI*t)*Math.cosh(n),-Math.sin(Math.PI*t)*Math.sinh(n)]}},{name:"tangent",func:function(e){var t=e.x,n=e.y;return[Math.sin(t)/Math.cos(n),Math.tan(n)]}},{name:"hyperbolic",func:function(e){var t=e.x,n=e.y;return[Math.sin(P.theta(t,n))/P.radius(t,n),P.radius(t,n)*Math.cos(P.theta(t,n))]}},{name:"polar",func:function(e){var t=e.x,n=e.y;return[P.theta(t,n)/Math.PI,P.radius(t,n)-1]}},{name:"waves",func:function(e){var t=e.x,n=e.y,a=e.affineParams;if(a){var c=a[1],r=a[2],u=a[4],o=a[5];return[t+c*Math.sin(n/(r*r)),n+u*Math.sin(t/(o*o))]}return[t,n]}},{name:"exponential",func:function(e){var t=e.x,n=e.y;return[Math.exp(t-1)*Math.cos(Math.PI*n),Math.exp(t-1)*Math.sin(Math.PI*n)]}},{name:"power",func:function(e){var t=e.x,n=e.y,a=P.theta(t,n),c=Math.sin(a),r=Math.pow(P.radius(t,n),c);return[r*Math.cos(a),r*c]}},{name:"rays",func:function(e){var t=e.x,n=e.y,a=e.weight;if(a){var c=a*Math.tan(P.psi()*Math.PI*a)/P.radiusSquare(t,n);return[c*Math.cos(t),c*Math.sin(n)]}return[t,n]}},{name:"secant",func:function(e){var t=e.x,n=e.y,a=e.weight;return a?[t,1/(a*Math.cos(a*P.radius(t,n)))]:[t,n]}},{name:"spherical",func:function(e){var t=e.x,n=e.y,a=1/P.radiusSquare(t,n);return[a*t,a*n]}},{name:"swirl",func:function(e){var t=e.x,n=e.y,a=P.radiusSquare(t,n),c=Math.sin(a),r=Math.cos(a);return[t*c-n*r,t*r+n*c]}},{name:"horseshoe",func:function(e){var t=e.x,n=e.y,a=1/P.radius(t,n);return[a*(t-n)*(t+n),2*a*t*n]}},{name:"handkerchief",func:function(e){var t=e.x,n=e.y,a=P.radius(t,n),c=P.theta(t,n);return[a*Math.sin(c+a),a*Math.cos(c-a)]}},{name:"heart",func:function(e){var t=e.x,n=e.y,a=P.radius(t,n),c=P.theta(t,n);return[a*Math.sin(c*a),-a*Math.cos(c*a)]}},{name:"disc",func:function(e){var t=e.x,n=e.y,a=P.theta(t,n)/Math.PI,c=P.radius(t,n)*Math.PI;return[a*Math.sin(c),a*Math.cos(c)]}},{name:"spiral",func:function(e){var t=e.x,n=e.y,a=P.radius(t,n),c=P.theta(t,n);return[1/a*(Math.cos(c)+Math.sin(a)),1/a*(Math.sin(c)-Math.cos(a))]}},{name:"ring",func:function(e){var t=e.x,n=e.y,a=e.affineParams;if(a){var c=P.radius(t,n),r=P.theta(t,n),u=a[2]*a[2],o=(c+u)%(2*u)-u+c*(1-u);return[o*Math.cos(r),o*Math.sin(r)]}return[t,n]}},{name:"diamond",func:function(e){var t=e.x,n=e.y,a=P.radius(t,n),c=P.theta(t,n);return[Math.cos(a)*Math.sin(c),Math.cos(c)*Math.sin(a)]}},{name:"fisheye",func:function(e){var t=e.x,n=e.y,a=2/(P.radius(t,n)+1);return[a*n,a*t]}},{name:"eyefish",func:function(e){var t=e.x,n=e.y,a=2/(P.radius(t,n)+1);return[a*t,a*n]}},{name:"popcorn",func:function(e){var t=e.x,n=e.y,a=e.affineParams;if(a){var c=a[2],r=a[5];return[t+c*Math.sin(Math.tan(3*n)),n+r*Math.sin(Math.tan(3*t))]}return[t,n]}},{name:"fan",func:function(e){var t=e.x,n=e.y,a=e.affineParams;if(a){var c=Math.PI*a[2]*a[2],r=a[5],u=P.radius(t,n),o=P.theta(t,n);return(o+r)%c>c/2?[u*Math.cos(o-c/2),u*Math.sin(o-c/2)]:[u*Math.cos(o+c/2),u*Math.sin(o+c/2)]}return[t,n]}},{name:"bubble",func:function(e){var t=e.x,n=e.y,a=4/(P.radiusSquare(t,n)+4);return[a*t,a*n]}},{name:"cylinder",func:function(e){var t=e.x,n=e.y;return[Math.sin(t),n]}},{name:"arch",func:function(e){var t=e.x,n=e.y,a=e.weight;if(a){var c=P.psi()*Math.PI*a;return[Math.sin(c),Math.sin(c)*Math.sin(c)/Math.cos(c)]}return[t,n]}},{name:"ex",func:function(e){var t=e.x,n=e.y,a=P.radius(t,n),c=P.theta(t,n),r=Math.sin(c+a),u=Math.cos(c-a),o=r*r*r,l=u*u*u;return[a*(o+l),a*(o-l)]}},{name:"cross",func:function(e){var t=e.x,n=e.y,a=Math.abs(1/(t*t-n*n));return[a*t,a*n]}},{name:"blade",func:function(e){var t=e.x,n=e.y,a=e.weight;if(a){var c=P.psi()*P.radius(t,n)*a,r=Math.cos(c),u=Math.sin(c);return[t*(r+u),t*(r-u)]}return[t,n]}},{name:"twinTriangle",func:function(e){var t=e.x,n=e.y,a=e.weight;if(a){var c=P.psi()*P.radius(t,n)*a,r=Math.sin(c),u=Math.cos(c),o=Math.log10(r*r)+u;return[t*o,t*(o-Math.PI*r)]}return[t,n]}},{name:"julia",func:function(e){var t=e.x,n=e.y,a=Math.sqrt(P.radius(t,n)),c=P.theta(t,n)/2+P.omega();return[a*Math.cos(c),a*Math.sin(c)]}},{name:"bent",func:function(e){var t=e.x,n=e.y;return t>=0?n>=0?[t,n]:[t,n/2]:n>=0?[2*t,n]:[2*t,n/2]}},{name:"noise",func:function(e){var t=e.x,n=e.y,a=P.psi(),c=2*Math.PI*P.psi();return[a*t*Math.cos(c),a*n*Math.sin(c)]}},{name:"blur",func:function(e){var t=e.x,n=e.y,a=t+n,c=P.psi(),r=2*Math.PI*P.psi();return[c*Math.cos(r)+a-a,c*Math.sin(r)]}},{name:"gaussian",func:function(e){for(var t=e.x,n=e.y,a=t+n,c=-2,r=0;r<4;r++)c+=P.psi();var u=2*Math.PI*P.psi();return[c*Math.cos(u)+a-a,c*Math.sin(u)]}},{name:"square",func:function(e){var t=e.x,n=e.y,a=t+n;return[P.psi()-.5+a-a,P.psi()-.5]}}],k=function(){function e(e,t,n){this.typeIndex=e,this.weight=t,this.functionInfo=n}return e}(),T=function(){function e(e,t,n,a,c,r){if(void 0===e&&(e=!1),void 0===t&&(t=[1,0,0,0,1,0]),void 0===n&&(n=1),void 0===a&&(a=new g(!1,0,0,0)),void 0===c&&(c=[0]),void 0===r&&(r=[{name:"linear",func:function(e){return[e.x,e.y]}}]),e){this.affineParams=[];for(var u=0;u<6;u++)this.affineParams.push(j(f(!1,-1,1),4));this.weight=j(Math.random(),4),this.color=new g(!0),this.variations=[];var o=f(!0,1,c.length),l=v(c.length).slice(0,o),i=[];for(u=0;u<o;u++)i[u]=Math.random();i=Object(s["d"])(O(i,1,!0,4));for(u=0;u<o;u++){var b=c[l[u]];this.variations[u]=new k(b,i[u],r[b])}}else this.affineParams=t,this.weight=n,this.color=a,this.variations=[],this.variations[0]=new k(0,1,r[0])}return e.prototype.apply=function(e){for(var t=e.x,n=e.y,a=this.affineParams[0]*t+this.affineParams[1]*n+this.affineParams[2],c=this.affineParams[3]*t+this.affineParams[4]*n+this.affineParams[5],r=0,u=0,o=0;o<this.variations.length;o++){var l=this.variations[o].functionInfo.func({x:a,y:c,affineParams:this.affineParams,weight:this.weight}),i=l[0],b=l[1],s=this.variations[o].weight;r+=i*s,u+=b*s}e.x=r,e.y=u,g.mix(e.color,this.color)},e}();function y(e,t,n){var a=f(!0,e,t);return v(n.length).slice(0,a)}function M(e,t,n,a){for(var c=f(!0,e,t),r=[],u=0;u<c;u++)r.push(new T(!0,[],0,new g,n,a));var o=r.map((function(e){return e.weight})),l=O(o,1,!0,4);return r.forEach((function(e,t){e.weight=l[t]})),r}var x=[new T(!1,[.5,0,0,0,.5,0],.33,new g(!1,255,0,0),[0],_),new T(!1,[.5,0,0,0,.5,.5],.33,new g(!1,0,255,0),[0],_),new T(!1,[.5,0,.5,0,.5,0],.34,new g(!1,0,0,255),[0],_)];function I(e,t){for(var n=new ImageData(e,t),a=3;a<e*t;a+=4)n.data[a]=255;return n}Date.now(),Date.now(),I(800,600),new Uint32Array(192e4),new w(!0);var C=["default_flame_1.png","default_flame_2.png","default_flame_3.png"],U=(Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),n("bc3a")),A=n.n(U),D=Symbol("key"),E=Object(b["a"])({state:{token:localStorage.getItem("token")||"",isLogin:!1,isInEditor:!1,flameInEditor:void 0,homeCarouselImages:C,artworks:[]},mutations:{updateFlameInEditor:function(e,t){console.log(t);var n={artworkID:t.artworkid,userID:t.user.userid,title:t.title,createdAt:t.created_at,lastUpdatedAt:t.lastUpdated_at,attractors:[new T(!1,[.5,0,0,0,.5,-Math.sqrt(3)/6],.33,new g(!1,255,0,0),[0],_),new T(!1,[.5,0,.25,0,.5,Math.sqrt(3)/12],.33,new g(!1,0,255,0),[0],_),new T(!1,[.5,0,-.25,0,.5,Math.sqrt(3)/12],.34,new g(!1,0,0,255),[0],_)],canvasWidth:t.canvas_width,canvasHeight:t.canvas_height,gamma:2.2,imageData:p(t.canvas_width,t.canvas_height),histogramData:new Uint32Array(t.canvas_width*t.canvas_height*4),drawPoint:new w(!0),maxFrequency:0,pointsCalculated:0,pointsRendered:0};console.log(n),e.flameInEditor=n},createNewFlameInEditor:function(e){e.flameInEditor={artworkID:"",userID:e.user?e.user.userid:"",title:"新建焰火",createdAt:Date.now(),lastUpdatedAt:Date.now(),attractors:[new T(!1,[.5,0,0,0,.5,-Math.sqrt(3)/6],.33,new g(!1,255,0,0),[0],_),new T(!1,[.5,0,.25,0,.5,Math.sqrt(3)/12],.33,new g(!1,0,255,0),[0],_),new T(!1,[.5,0,-.25,0,.5,Math.sqrt(3)/12],.34,new g(!1,0,0,255),[0],_)],canvasWidth:640,canvasHeight:640,gamma:2.2,imageData:p(640,640),histogramData:new Uint32Array(1638400),drawPoint:new w(!0),maxFrequency:0,pointsCalculated:0,pointsRendered:0}},setIsInEditor:function(e,t){e.isInEditor=t},login:function(e,t){var n=t.access_token,a=t.userid,c=t.username,r={userid:a,username:c};e.user=r,e.token=n,console.log("currentUser is "+e.user.username),localStorage.setItem("token",n),console.log("currentToken is "+e.token),A.a.defaults.headers.common.Authorization="Bearer "+n,e.isLogin=!0},fetchCurrentUser:function(e,t){e.user=Object(s["a"])({},t),e.isLogin=!0},logout:function(e){e.user=void 0,e.isLogin=!1,e.token="",localStorage.removeItem("token")},fetchArtworks:function(e,t){e.artworks=[];for(var n=[],a=0;t[a];a++){var c={artworkID:"",title:"",userID:"",username:"",canvasWidth:0,canvasHeight:0,imageURL:"",createdAt:0,lastUpdatedAt:0};console.log(""+t[a].artworkid),c.artworkID=""+t[a].artworkid,c.title=""+t[a].title,c.userID=""+t[a].user.userid,c.username=""+t[a].user.username,c.canvasWidth=t[a].canvas_width,c.canvasHeight=t[a].canvas_height,c.createdAt=t[a].created_at,c.lastUpdatedAt=t[a].last_updated_at,c.imageURL="fracflame_default.jpg",n.push(c)}for(a=0;n[a];a++)e.artworks.push(n[a]);console.log(e.artworks)}},actions:{fetchArtworkDataAndOpen:function(e,t){var n=e.commit;return console.log("fetching art data"),z("/artwork/"+t,"updateFlameInEditor",n)},fetchArtworks:function(e){var t=e.commit;return console.log("fetching arts"),z("/artwork","fetchArtworks",t)},fetchMyArtworks:function(e){var t=e.commit;return z("/artwork/my","fetchArtworks",t)},fetchCurrentUser:function(e){var t=e.commit;return console.log("fetching"),z("/users/current","fetchCurrentUser",t)},login:function(e,t){var n=e.commit;return S("/auth/login","login",n,t)},loginAndFetch:function(e,t){var n=e.dispatch;return n("login",t).then((function(){return n("fetchCurrentUser")}))},register:function(e,t){e.commit;return console.log(t),A.a.post("/auth/register",t).then((function(e){console.log("reg completed"),console.log(e)})).catch((function(e){if(console.log("reg failed"),e.response)throw console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),new Error(""+e.response.data.error);e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},removeAccount:function(e,t){e.commit;console.log(t),A.a.delete("/users/"+t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}}),z=function(e,t,n){return Object(s["b"])(void 0,void 0,void 0,(function(){var a;return Object(s["c"])(this,(function(c){switch(c.label){case 0:return A.a.defaults.headers.common.Authorization="Bearer "+E.state.token,[4,A.a.get(e)];case 1:return a=c.sent().data,n(t,a),[2]}}))}))},S=function(e,t,n,a){return Object(s["b"])(void 0,void 0,void 0,(function(){var c;return Object(s["c"])(this,(function(r){switch(r.label){case 0:return A.a.defaults.headers.common.Authorization="Bearer "+E.state.token,[4,A.a.post(e,a)];case 1:return c=r.sent().data,n(t,c),[2,c]}}))}))},q={common:{baseColor:"black",textColorBase:"white"},Layout:{siderBorderColor:"white"},Divider:{color:"white"},Button:{borderRadiusMedium:"0px",border:"1px solid rgb(255, 255, 255)",color:"rgb(32, 32, 32)"},Collapse:{dividerColor:"white"},Descriptions:{thColor:"rgb(32, 32, 32)",tdColor:"black",borderColor:"lightgray",borderRadius:"0px"},Typography:{headerBarColor:"white"},Checkbox:{border:"1px solid rgba(255, 255, 255, 0.9)",borderRadius:"0px"},Input:{color:"black",colorFocus:"rgb(32, 32, 32)",border:"1px solid rgb(255, 255, 255, 0.9)",borderRadius:"0px"},InternalSelection:{border:"1px solid rgb(255, 255, 255, 0.9)",borderRadius:"0px",color:"black"},ColorPicker:{border:"1px solid rgb(255, 255, 255, 0.9)",borderRadius:"0px"}},N=[{label:"1:1",value:"1:1",children:[{label:"320 * 320",value:'{"width": 320, "height": 320}'},{label:"480 * 480",value:'{"width": 480, "height": 480}'},{label:"512 * 512",value:'{"width": 512, "height": 512}'},{label:"640 * 640",value:'{"width": 640, "height": 640}'},{label:"800 * 800",value:'{"width": 800, "height": 800}'},{label:"1024 * 1024",value:'{"width": 1024, "height": 1024}'},{label:"1200 * 1200",value:'{"width": 1200, "height": 1200}'}]},{label:"4:3",value:"4:3",children:[{label:"640 * 480",value:'{"width": 640, "height": 480}'},{label:"800 * 600",value:'{"width": 800, "height": 600}'},{label:"1024 * 768",value:'{"width": 1024, "height": 768}'},{label:"1440 * 1080",value:'{"width": 1440, "height": 1080}'}]},{label:"16:9",value:"16:9",children:[{label:"1024 * 576",value:'{"width": 1024, "height": 576}'},{label:"1280 * 720",value:'{"width": 1024, "height": 576}'},{label:"1600 * 900",value:'{"width": 1600, "height": 900}'},{label:"1920 * 1080",value:'{"width": 1920, "height": 1080}'}]}],R=[{label:"线性(linear)",value:0},{label:"正弦(sinusoidal)",value:1},{label:"余弦(cosine)",value:2},{label:"正切(tangent)",value:3},{label:"双曲线(hyperbolic)",value:4},{label:"极坐标(polar)",value:5},{label:"波(waves)",value:6},{label:"自然指数(exponential)",value:7},{label:"极坐标幂(power)",value:8},{label:"射线(rays)",value:9},{label:"割线(secant)",value:10},{label:"球面(spherical)",value:11},{label:"漩涡(swirl)",value:12},{label:"马掌(horseshoe)",value:13},{label:"方巾(handkerchief)",value:14},{label:"心(heart)",value:15},{label:"圆盘(disc)",value:16},{label:"螺旋(spiral)",value:17},{label:"环(ring)",value:18},{label:"钻石(diamond)",value:19},{label:"鱼眼(fisheye)",value:20},{label:"眼鱼(eyefish)",value:21},{label:"爆米花(popcorn)",value:22},{label:"风扇(fan)",value:23},{label:"气泡(bubble)",value:24},{label:"圆柱(cylinder)",value:25},{label:"拱(arch)",value:26},{label:"对角线(ex)",value:27},{label:"十字(cross)",value:28},{label:"刀刃(blade)",value:29},{label:"双三角(twin triangle)",value:30},{label:"朱利亚集(Julia)",value:31},{label:"弯曲(bent)",value:32},{label:"噪音",value:33},{label:"模糊(blur)",value:34},{label:"高斯模糊(Gaussian)",value:35},{label:"方形(square)",value:36}],F={attractorSizeMin:3,attractorSizeMax:8,variationSizeMin:1,variationSizeMax:6,flameTitleLengthMin:1,flameTitleLengthMax:64},L=n("6c02"),B=n("c678"),J=n("73170"),W=n("a9d8"),H=n("c872"),$=n("3519"),G=n("9c03"),K=n("6c4e"),Q=n("646f"),V=n("2649"),X=n("6e31"),Y=n("4951"),Z=n("7a5b"),ee=n("fe5b"),te=n("b6e9"),ne=n("88cc"),ae=n("204f"),ce=n("465f"),re=n("ccfc"),ue=n("c6a9"),oe=n("928b"),le=n("e502"),ie=n("ad25"),be=n("fe8e"),se=n("af8f");Object(a["F"])("data-v-12753309");var fe=Object(a["m"])(" 分形焰火 ");Object(a["D"])();var je=Object(a["o"])({props:{routerLink:{type:String,default:"/"}},setup:function(e){var t=e,n=Object(b["b"])(D),c=Object(L["c"])();function r(){n.commit("setIsInEditor",!1),c.push(t.routerLink)}return function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(H["a"]),{size:24},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{id:"return-button",focusable:!1,size:"large",round:"",text:"",onClick:r},{icon:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(B["a"]),{color:"white",size:35},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(se["a"]))]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(be["b"]),{id:"logo-text"},{default:Object(a["T"])((function(){return[fe]})),_:1})]})),_:1})}}});n("ffda");je.__scopeId="data-v-12753309";var Oe=je;Object(a["F"])("data-v-293b93ed");var de={key:0},ve={key:1},he=Object(a["m"])(" 注册 "),me=Object(a["m"])(" 登录 "),pe=Object(a["m"])(" 登录 "),ge=Object(a["m"])(" 注册 "),we=Object(a["m"])(" 提交 "),Pe=Object(a["m"])(" 注销账户 ");Object(a["D"])();var _e=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D),n=Object(L["c"])(),c=Object(a["g"])((function(){return t.state.isLogin})),r=Object(a["g"])((function(){return t.state.user})),u=[{label:function(){var e;return null===(e=r.value)||void 0===e?void 0:e.username},key:"user",children:[{label:"我的资料",key:"aboutMe"},{label:"修改信息",key:"editFile"},{label:"登出",key:"logout"}]}];function o(e){switch(e){case"aboutMe":E.value=!0;break;case"editFile":_.value=!0;break;case"logout":t.commit("logout"),n.push("/");break}}function l(){var e;_.value=!1;try{t.dispatch("removeAccount",null===(e=t.state.user)||void 0===e?void 0:e.userid)}catch(n){console.log(n)}w.success("注销成功"),z()}function i(){var e,n,a=k.value,c=a.newUsername,u=a.newPassword;if(c||u){if(c){if(!C(c))return w.error("新用户名不合法，请重新输入"),!1;A.a.defaults.headers.common.Authorization="Bearer "+t.state.token;try{var o={username:c};A.a.patch("/users/"+(null===(e=r.value)||void 0===e?void 0:e.userid),o).then((function(e){console.log(e),w.success("修改用户名成功")})).catch((function(e){return w.error("修改用户名失败,错误信息："+e.message),!1}))}catch(i){console.log(i)}}}else w.error("未输入任何内容，已取消修改");if(u){A.a.defaults.headers.common.Authorization="Bearer "+t.state.token;try{console.log("patching new password");var l={password:u};A.a.patch("/users/"+(null===(n=r.value)||void 0===n?void 0:n.userid),l).then((function(e){console.log(e),w.success("修改密码成功")}))}catch(i){return console.log(i),w.error("修改密码失败"),!1}}_.value=!1,z()}var s=Object(a["g"])((function(){return c.value?f:j})),f=[{label:"首页",key:"home",icon:d(ce["a"])},{label:"浏览",key:"browse",icon:d(re["a"])},{label:"新建作品",key:"create",icon:d(ue["a"])},{label:"我的作品",key:"my-artworks",icon:d(oe["a"])},{label:"我的收藏",key:"my-bookmarks",icon:d(le["a"])}],j=[{label:"首页",key:"home",icon:d(ce["a"])},{label:"浏览",key:"browse",icon:d(re["a"])}];function O(e){var a="/";switch(e){case"home":t.commit("setIsInEditor",!1),a="/";break;case"browse":t.commit("setIsInEditor",!1),a="/artworks";break;case"create":t.commit("createNewFlameInEditor"),t.commit("setIsInEditor",!0),a="/flame";break;case"my-artworks":t.commit("setIsInEditor",!1),a="/my-artworks";break;case"my-bookmarks":t.commit("setIsInEditor",!1),a="/my-bookmarks";break}n.push(a)}function d(e){return function(){return Object(a["q"])(B["a"],null,{default:function(){return Object(a["q"])(e)}})}}var v=Object(a["I"])(!1),h=Object(a["I"])({username:"",password:""}),p=Object(a["I"])(null),g={username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},w=Object(J["a"])();function P(){var e=h.value,n=e.username,a=e.password;if(n&&a&&C(n)){var c={username:n,password:a};t.dispatch("login",c).then((function(e){console.log(e),w.success("登录成功，欢迎回来"),v.value=!1})).catch((function(e){console.log(e),w.error("登录失败，账号或密码错误")}))}}var _=Object(a["I"])(!1),k=Object(a["I"])({newUsername:"",newPassword:""}),T={newUsername:[{validator:function(e,t){return!(t&&!/^\w+$/.test(t))||new Error("用户名非法")},trigger:["input","blur"]}]},y=Object(a["I"])(!1),M=Object(a["I"])({username:"",password:"",passwordRepeat:""}),x=Object(a["I"])(null),I={username:[{required:!0,validator:function(e,t,n){return t?!!/^\w+$/.test(t)||new Error("用户名非法"):new Error("请输入用户名")},trigger:["input","blur"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],passwordRepeat:[{required:!0,validator:function(e,t){return t?t===M.value.password||new Error("两次输入密码不一致"):new Error("请再次输入密码")},trigger:"blur"}]};function C(e){return/^\w+$/.test(e)}function U(){var e=M.value,n=e.username,a=e.password,c=e.passwordRepeat;return a!==c?(w.error("两次密码输入不一致，请重新输入密码"),!1):C(n)?void t.dispatch("register",{username:n,password:a}).then((function(e){console.log("response is:"),console.log(e),w.success("注册成功，请使用该用户密码登录"),y.value=!1})).catch((function(e){console.log(e),w.error("注册失败，错误信息："+e)})):(w.error("用户名输入有误，请重新输入"),!1)}var E=Object(a["I"])(!1);function z(){t.commit("logout"),E.value=!1}return Object(a["A"])((function(){localStorage.getItem("token")&&(console.log("currentToken is "+t.state.token),t.dispatch("fetchCurrentUser"))})),function(e,t){return Object(a["C"])(),Object(a["k"])(a["b"],null,[Object(a["n"])(Oe,{"router-link":"/"}),Object(a["n"])(Object(a["P"])(W["a"])),Object(a["P"])(c)?(Object(a["C"])(),Object(a["k"])("div",de,[Object(a["n"])(Object(a["P"])(H["a"]),{vertical:"",align:"center"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{size:"large",round:"",text:""},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(G["a"]),{id:"user-avatar",size:"large",color:"rgb(0, 0, 0)","object-fit":"contain",src:Object(a["P"])(r)&&Object(a["P"])(r).avatar?Object(a["P"])(m)(Object(a["P"])(r).avatar):void 0},{default:Object(a["T"])((function(){return[Object(a["P"])(r)&&!Object(a["P"])(r).avatar?(Object(a["C"])(),Object(a["i"])(Object(a["P"])(B["a"]),{key:0},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ie["a"]))]})),_:1})):Object(a["j"])("",!0)]})),_:1},8,["src"])]})),_:1}),Object(a["n"])(Object(a["P"])(K["a"]),{options:u,indent:6,"root-indent":9,"onUpdate:value":t[0]||(t[0]=function(e){o(e)})})]})),_:1})])):(Object(a["C"])(),Object(a["k"])("div",ve,[Object(a["n"])(Object(a["P"])(Q["a"]),{col:24,"x-gap":9,"y-gap":9},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"sider-button",onClick:t[1]||(t[1]=function(e){return y.value=!0})},{default:Object(a["T"])((function(){return[he]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"sider-button",onClick:t[2]||(t[2]=function(e){return v.value=!0})},{default:Object(a["T"])((function(){return[me]})),_:1})]})),_:1})]})),_:1})])),Object(a["n"])(Object(a["P"])(W["a"])),Object(a["n"])(Object(a["P"])(K["a"]),{options:Object(a["P"])(s),"onUpdate:value":t[3]||(t[3]=function(e){O(e)})},null,8,["options"]),Object(a["n"])(Object(a["P"])(X["a"]),{show:v.value,"onUpdate:show":t[7]||(t[7]=function(e){return v.value=e})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"login-modal-card",title:"登录",size:"large",closable:!0,onClose:t[6]||(t[6]=function(e){return v.value=!1})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Z["a"]),{ref:p,model:h.value,rules:g,"show-require-mark":!1},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ee["a"]),{label:"用户名",path:"username"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:h.value.username,"onUpdate:value":t[4]||(t[4]=function(e){return h.value.username=e}),placeholder:"请输入用户名",maxlength:64},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"密码",path:"password"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:h.value.password,"onUpdate:value":t[5]||(t[5]=function(e){return h.value.password=e}),placeholder:"请输入密码",type:"password","show-password-on":"mousedown",maxlength:64},null,8,["value"])]})),_:1})]})),_:1},8,["model"]),Object(a["n"])(Object(a["P"])($["a"]),{class:"modal-button",onClick:P},{default:Object(a["T"])((function(){return[pe]})),_:1})]})),_:1})]})),_:1},8,["show"]),Object(a["n"])(Object(a["P"])(X["a"]),{show:y.value,"onUpdate:show":t[12]||(t[12]=function(e){return y.value=e})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"register-modal-card",title:"注册",size:"large",closable:!0,onClose:t[11]||(t[11]=function(e){return y.value=!1})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Z["a"]),{ref:x,model:M.value,rules:I,"show-require-mark":!1},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ee["a"]),{label:"用户名",path:"username"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:M.value.username,"onUpdate:value":t[8]||(t[8]=function(e){return M.value.username=e}),placeholder:"请输入用户名",maxlength:64,"show-count":""},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"密码",path:"password"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:M.value.password,"onUpdate:value":t[9]||(t[9]=function(e){return M.value.password=e}),placeholder:"请输入密码",type:"password","show-password-on":"mousedown",maxlength:64},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"再次输入密码",path:"passwordRepeat"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:M.value.passwordRepeat,"onUpdate:value":t[10]||(t[10]=function(e){return M.value.passwordRepeat=e}),placeholder:"请再次输入密码",type:"password","show-password-on":"mousedown",maxlength:64},null,8,["value"])]})),_:1})]})),_:1},8,["model"]),Object(a["n"])(Object(a["P"])($["a"]),{class:"modal-button",onClick:U},{default:Object(a["T"])((function(){return[ge]})),_:1})]})),_:1})]})),_:1},8,["show"]),Object(a["n"])(Object(a["P"])(X["a"]),{show:E.value,"onUpdate:show":t[14]||(t[14]=function(e){return E.value=e})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"user-menu-modal-card",title:"我的信息",size:"large",closable:!0,onClose:t[13]||(t[13]=function(e){return E.value=!1})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(H["a"]),{vertical:"",align:"center",justify:"center"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(G["a"]),{size:"large",color:"rgb(0, 0, 0)","object-fit":"contain",src:Object(a["P"])(r)&&Object(a["P"])(r).avatar?Object(a["P"])(m)(Object(a["P"])(r).avatar):void 0},{default:Object(a["T"])((function(){return[Object(a["P"])(r)&&!Object(a["P"])(r).avatar?(Object(a["C"])(),Object(a["i"])(Object(a["P"])(B["a"]),{key:0},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ie["a"]))]})),_:1})):Object(a["j"])("",!0)]})),_:1},8,["src"])]})),_:1}),Object(a["n"])(Object(a["P"])(H["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ne["a"]),{id:"user-file-description",column:1,bordered:"","label-placement":"left","label-align":"right"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ae["a"]),{label:"用户名"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(r).username),1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"用户ID"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(r).userid),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["show"]),Object(a["n"])(Object(a["P"])(X["a"]),{show:_.value,"onUpdate:show":t[18]||(t[18]=function(e){return _.value=e})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"name-editor-model-card",title:"修改信息",size:"large",closable:!0,onClose:t[17]||(t[17]=function(e){return _.value=!1})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Z["a"]),{ref:inputEditFormRef,model:k.value,rules:T,"show-require-mark":!1},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ee["a"]),{label:"新用户名",path:"newUserName"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:k.value.newUsername,"onUpdate:value":t[15]||(t[15]=function(e){return k.value.newUsername=e}),placeholder:"请输入新用户名，不修改请留空",maxlength:64,"show-count":""},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"新密码",path:"newPassword"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:k.value.newPassword,"onUpdate:value":t[16]||(t[16]=function(e){return k.value.newPassword=e}),placeholder:"请输入新密码，不修改请留空",maxlength:64,"show-count":""},null,8,["value"])]})),_:1})]})),_:1},8,["model"]),Object(a["n"])(Object(a["P"])(Q["a"]),{"x-gap":"15",cols:1,align:"middle"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{id:"submitEditButton",onClick:i,size:"large"},{default:Object(a["T"])((function(){return[we]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(W["a"])),Object(a["n"])(Object(a["P"])(V["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{id:"removeAccountButton",type:"error",onClick:l,size:"large"},{default:Object(a["T"])((function(){return[Pe]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["show"])],64)}}});n("cd2b");_e.__scopeId="data-v-293b93ed";var ke=_e,Te=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D),n=Object(a["g"])((function(){return t.state.isInEditor})),s=Object(a["g"])((function(){return t.state.token}));return Object(a["A"])((function(){!t.state.isLogin&&s.value&&(A.a.defaults.headers.common.Authorization="Bearer "+s.value,t.dispatch("fetchCurrentUser").then((function(e){console.log(s.value),console.log(e)})).catch((function(e){console.log(e)})))})),function(e,t){var b=Object(a["L"])("router-view");return Object(a["C"])(),Object(a["i"])(Object(a["P"])(c["b"]),{theme:Object(a["P"])(r["a"]),"theme-overrides":Object(a["P"])(q)},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(u["a"]),null,{default:Object(a["T"])((function(){return[Object(a["P"])(n)?Object(a["j"])("",!0):(Object(a["C"])(),Object(a["i"])(Object(a["P"])(o["b"]),{key:0,position:"absolute","has-sider":""},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(l["a"]),{id:"sider",bordered:"","content-style":"padding: 24px",width:"280px","collapse-mode":"transform","collapsed-width":0,"show-trigger":"bar","native-scrollbar":!1},{default:Object(a["T"])((function(){return[Object(a["n"])(ke)]})),_:1}),Object(a["n"])(Object(a["P"])(i["a"]),{id:"content","content-style":"padding: 24px"},{default:Object(a["T"])((function(){return[Object(a["n"])(b)]})),_:1})]})),_:1})),Object(a["P"])(n)?(Object(a["C"])(),Object(a["i"])(b,{key:1})):Object(a["j"])("",!0)]})),_:1})]})),_:1},8,["theme","theme-overrides"])}}}),ye=(n("31e3"),Te),Me=n("48f1"),xe=n("ea46");Object(a["F"])("data-v-0d7db324");var Ie=Object(a["l"])("div",{class:"space"},null,-1),Ce=Object(a["m"])(" 分形焰火 "),Ue=Object(a["l"])("p",{id:"banner-text"},[Object(a["m"])(" 使用参数， "),Object(a["l"])("br"),Object(a["m"])(" 创造绚丽多彩的火焰分形， "),Object(a["l"])("br"),Object(a["m"])(" 与他人分享。 ")],-1),Ae=Object(a["m"])(" 编辑精选 "),De=["src"];Object(a["D"])();var Ee=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D);t.commit("setIsInEditor",!1);var n=Object(a["g"])((function(){return t.state.homeCarouselImages}));return function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(Q["a"]),{cols:24},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),{span:24},{default:Object(a["T"])((function(){return[Ie]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(B["a"]),{color:"white",size:60},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(se["a"]))]})),_:1}),Object(a["n"])(Object(a["P"])(Me["a"]),{id:"logo-text",strong:""},{default:Object(a["T"])((function(){return[Ce]})),_:1}),Ue]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(be["a"]),{prefix:"bar"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Me["a"]),null,{default:Object(a["T"])((function(){return[Ae]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(xe["a"]),{autoplay:"","show-arrow":""},{default:Object(a["T"])((function(){return[(Object(a["C"])(!0),Object(a["k"])(a["b"],null,Object(a["J"])(Object(a["P"])(n),(function(e,t){return Object(a["C"])(),Object(a["k"])("img",{key:t,src:Object(a["P"])(m)(e),class:"carousel-img"},null,8,De)})),128))]})),_:1})]})),_:1})]})),_:1})}}});n("4121");Ee.__scopeId="data-v-0d7db324";var ze=Ee,Se=n("7145"),qe=n("400a"),Ne=n("1623"),Re=n("c97c"),Fe=n("edfc"),Le=n("be01"),Be=n("7baf"),Je=n("4990"),We=n("2ef0"),He=n("db38"),$e=n("c668"),Ge=n("21e1"),Ke=n("86b0");Object(a["F"])("data-v-07b3c3a0");var Qe=Object(a["m"])(" 新增变体子 ");Object(a["D"])();var Ve=Object(a["o"])({props:{attractor:{type:Object,default:new T(!1)}},emits:["update:attractor"],setup:function(e,t){var n=t.emit,c=e,r=Object(a["I"])(Object(We["cloneDeep"])(c.attractor)),u=Object(a["g"])((function(){return g.toString(r.value.color)}));function o(e,t,a){switch(void 0===t&&(t=0),void 0===a&&(a=0),e){case"affine":r.value.affineParams[a]=j(t,4),n("update:attractor",r.value);break;case"weight":r.value.weight=t,n("update:attractor",r.value);break;case"color":r.value.color=g.parseString(t),n("update:attractor",r.value);break;case"variationType":r.value.variations[a].typeIndex=t,r.value.variations[a].functionInfo=_[t],n("update:attractor",r.value),console.log("update attractor variation type: "+t);break;case"variationWeight":r.value.variations[a].weight=t,n("update:attractor",r.value);break;case"variationRemove":r.value.variations.splice(a,1),n("update:attractor",r.value);break;case"variationAdd":r.value.variations.push(new k(0,j(Math.random(),4),_[0])),n("update:attractor",r.value);break;default:break}}return Object(a["R"])((function(){return c.attractor}),(function(e){r.value=Object(We["cloneDeep"])(e)})),function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(Z["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Q["a"]),{cols:24,"x-gap":12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($e["a"]),{label:"a",span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ge["a"]),{value:r.value.affineParams[0],max:1,min:-1,"show-button":!1,"onUpdate:value":t[0]||(t[0]=function(e){o("affine",e||0,0)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"b",span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ge["a"]),{value:r.value.affineParams[1],max:1,min:-1,"show-button":!1,"onUpdate:value":t[1]||(t[1]=function(e){o("affine",e||0,1)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"c",span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ge["a"]),{value:r.value.affineParams[2],max:1,min:-1,"show-button":!1,"onUpdate:value":t[2]||(t[2]=function(e){o("affine",e||0,2)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"d",span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ge["a"]),{value:r.value.affineParams[3],max:1,min:-1,"show-button":!1,"onUpdate:value":t[3]||(t[3]=function(e){o("affine",e||0,3)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"e",span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ge["a"]),{value:r.value.affineParams[4],max:1,min:-1,"show-button":!1,"onUpdate:value":t[4]||(t[4]=function(e){o("affine",e||0,4)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"f",span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ge["a"]),{value:r.value.affineParams[5],max:1,min:-1,"show-button":!1,"onUpdate:value":t[5]||(t[5]=function(e){o("affine",e||0,5)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"权重",span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ne["a"]),{value:r.value.weight,max:1,min:0,step:.01,marks:{0:"0",1:"1"},"onUpdate:value":t[6]||(t[6]=function(e){o("weight",e||0)})},null,8,["value","step"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"颜色",span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ke["b"]),{value:Object(a["P"])(u),"show-alpha":!1,"onUpdate:value":t[7]||(t[7]=function(e){o("color",e)})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{label:"变体子",span:24,class:"variation-form-item"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(H["a"]),{vertical:""},{default:Object(a["T"])((function(){return[(Object(a["C"])(!0),Object(a["k"])(a["b"],null,Object(a["J"])(r.value.variations,(function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(Z["a"]),{id:"variation-form-"+t,key:t,size:"small"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Q["a"]),{cols:24,"x-gap":12,"y-gap":0},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($e["a"]),{span:2,class:"variation-form-item"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(t+1)+". ",1)]})),_:2},1024),Object(a["n"])(Object(a["P"])($e["a"]),{span:10,class:"variation-form-item"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Be["a"]),{value:e.typeIndex,options:Object(a["P"])(R),"onUpdate:value":function(e){o("variationType",e||0,t)}},null,8,["value","options","onUpdate:value"])]})),_:2},1024),Object(a["n"])(Object(a["P"])($e["a"]),{span:10,class:"variation-form-item"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ne["a"]),{value:e.weight,max:1,min:0,step:.01,"onUpdate:value":function(e){o("variationWeight",e||0,t)}},null,8,["value","step","onUpdate:value"])]})),_:2},1024),Object(a["n"])(Object(a["P"])($e["a"]),{span:2,class:"variation-form-item"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,disabled:r.value.variations.length<=1,circle:"",text:"",onClick:function(e){return o("variationRemove",0,t)}},{icon:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(B["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(He["a"]))]})),_:1})]})),_:2},1032,["disabled","onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["id"])})),128))]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])($e["a"]),{span:24,class:"variation-form-item"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,disabled:r.value.variations.length>=Object(a["P"])(F).variationSizeMax,class:"form-button",onClick:t[8]||(t[8]=function(e){return o("variationAdd",0,0)})},{default:Object(a["T"])((function(){return[Qe]})),_:1},8,["disabled"])]})),_:1})]})),_:1})]})),_:1})}}});n("6b84");Ve.__scopeId="data-v-07b3c3a0";var Xe=Ve;Object(a["F"])("data-v-7deb1e57");var Ye=Object(a["m"])(" 新增吸引子 "),Ze=Object(a["m"])(" 应用更改 ");Object(a["D"])();var et=Object(a["o"])({props:{attractors:{type:Object,default:function(){return[new T]}}},emits:["update:attractors"],setup:function(e,t){var n=t.emit,c=e,r=Object(a["I"])(Object(We["cloneDeep"])(c.attractors));function u(){r.value.push(new T)}function o(e){r.value.splice(e,1)}function l(){n("update:attractors",r.value)}return Object(a["R"])((function(){return c.attractors}),(function(e){r.value=Object(We["cloneDeep"])(e)})),function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(H["a"]),{vertical:"",size:24},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Se["b"]),null,{default:Object(a["T"])((function(){return[(Object(a["C"])(!0),Object(a["k"])(a["b"],null,Object(a["J"])(r.value,(function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(qe["a"]),{id:"attractor-list-item-"+t,key:t,title:"吸引子 "+(t+1)},{"header-extra":Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,disabled:r.value.length<=Object(a["P"])(F).attractorSizeMin,circle:"",text:"",onClick:function(e){return o(t)}},{icon:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(B["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(He["a"]))]})),_:1})]})),_:2},1032,["disabled","onClick"])]})),default:Object(a["T"])((function(){return[Object(a["n"])(Xe,{attractor:r.value[t],"onUpdate:attractor":function(e){return r.value[t]=e}},null,8,["attractor","onUpdate:attractor"])]})),_:2},1032,["id","title"])})),128))]})),_:1}),Object(a["n"])(Object(a["P"])(Q["a"]),{col:24,"x-gap":9,"y-gap":24},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,disabled:r.value.length>=Object(a["P"])(F).attractorSizeMax,class:"form-button",onClick:u},{default:Object(a["T"])((function(){return[Ye]})),_:1},8,["disabled"])]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:l},{default:Object(a["T"])((function(){return[Ze]})),_:1})]})),_:1})]})),_:1})]})),_:1})}}});n("9f2a");et.__scopeId="data-v-7deb1e57";var tt=et;Object(a["F"])("data-v-d19aaf90");var nt=Object(a["m"])(" 保存并上传 "),at=Object(a["m"])(" 下载图像 "),ct=Object(a["m"])(" 渲染图像 "),rt=Object(a["m"])(" 应用设置 "),ut=Object(a["m"])(" 随机生成参数 "),ot=["width","height"],lt=Object(a["m"])(" 提交修改 ");Object(a["D"])();var it=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D);t.commit("setIsInEditor",!0);var n,c,r,u,f,j,v,m=Object(a["g"])((function(){return t.state.flameInEditor})),p=Object(J["a"])(),g=Object(a["I"])(),P=Object(a["I"])(),k=Object(a["I"])(""),T=Object(a["I"])(0),x=Object(a["I"])(0),I=Object(a["I"])(512),C=Object(a["I"])(512),U=Object(a["g"])((function(){return I.value>C.value?I.value/C.value:1})),A=Object(a["g"])((function(){return C.value>I.value?C.value/I.value:1})),E=Object(a["I"])([]),z=Object(a["I"])(0),S=Object(a["I"])(0),q=Object(a["I"])(0),L=Object(a["I"])(60),G=Object(a["I"])(1),K=Object(a["I"])(1e3),ce=Object(a["I"])(!1),re=Object(a["I"])(!1),ue=Object(a["I"])([]),oe=Object(a["I"])([3,6]),le=Object(a["I"])([1,6]),ie=Object(a["I"])(""),se=Object(a["I"])(!1),fe=Object(a["I"])(!1),je=Object(a["I"])(k.value),de=60,ve=50,he=.05,me=10,pe=Object(a["g"])((function(){return q.value/S.value*100})),ge=Object(a["g"])((function(){return re.value?ue.value.length>6?"warning":ue.value.length>0?"success":"error":"success"})),we=Object(a["g"])((function(){if(re.value)return ue.value.length>6?"变体子种类较多，可能会影响性能":ue.value.length>0?void 0:"请选择至少1个变体子"}));function Pe(){ce.value=!ce.value}function _e(){!re.value||ue.value.length?(ce.value=!1,Ae(),re.value||(ue.value=y(le.value[0],le.value[1],_)),E.value=M(oe.value[0],oe.value[1],ue.value,_),c=O(E.value.map((function(e){return e.weight})),1,!0,4),ce.value=!0,setTimeout((function(){De()}),1e3)):p.error("无法随机化参数。请至少选择1种变体子")}function ke(){ce.value=!1;for(var e=u.width,t=u.height,a=u.data,c=0;c<t;c++)for(var r=0;r<e;r++){var o=c*e*4+4*r,l=f[o+3];if(l>0)for(var i=Math.pow(Math.log(l)/Math.log(z.value),1/G.value),b=0;b<3;b++)a[o+b]=Math.round(i*f[o+b]/l)}n&&n.putImageData(u,0,0)}function Te(){var e;ce.value=!1,g.value&&P.value&&(P.value.setAttribute("download","FracFlame_"+(null===(e=m.value)||void 0===e?void 0:e.title)+"_"+h(Date.now())+".png"),P.value.setAttribute("href",g.value.toDataURL("image/png").replace("image/png","image/octet-stream")),P.value.click())}function ye(){return Object(s["b"])(this,void 0,void 0,(function(){var e;return Object(s["c"])(this,(function(t){switch(t.label){case 0:return ce.value=!1,e=JSON.parse(ie.value),se.value?(I.value=e.height,C.value=e.width):(I.value=e.width,C.value=e.height),[4,Object(a["v"])()];case 1:return t.sent(),Ae(),ce.value=!0,[2]}}))}))}function Me(e){ce.value=!1,Ae(),E.value=e,c=O(E.value.map((function(e){return e.weight})),1,!0,4),ce.value=!0,setTimeout((function(){De()}),1e3)}function xe(){je.value&&je.value.length>0&&(k.value=je.value,fe.value=!1)}function Ie(){ce.value&&(Ce(),L.value=1e3/(performance.now()-r),r=performance.now(),v=window.requestAnimationFrame(Ie),L.value>de?K.value=Math.round(K.value*(1+he)):L.value<ve&&(K.value=Math.round(K.value*(1-he))))}function Ce(){for(var e=0,t=0;t<K.value;t++){var a=d(c);E.value[a].apply(j),Ue()&&e++}n&&n.putImageData(u,0,0),q.value+=e,S.value+=K.value}function Ue(){var e=j.x,t=j.y,n=j.color,a=u.width,c=u.height,r=u.data,o=Math.round((1*e/U.value+1)*a/2),l=Math.round((1*t/A.value+1)*c/2);if(o<a&&o>=0&&l<c&&l>=0){var i=l*a*4+4*o;r[i]=(n.r+r[i])/2,r[i+1]=(n.g+r[i+1])/2,r[i+2]=(n.b+r[i+2])/2,r[i+3]=255,f[i]+=n.r,f[i+1]+=n.g,f[i+2]+=n.b;var b=++f[i+3];return b>z.value&&(z.value=b),!0}return!1}function Ae(){if(g.value&&n){var e=g.value,t=e.width,a=e.height;n.clearRect(0,0,t,a),n.fillRect(0,0,t,a),u=n.getImageData(0,0,t,a),f=new Uint32Array(t*a*4),j=new w(!0),z.value=0,S.value=0,q.value=0,K.value=1e3}}function De(){pe.value<me&&p.warning("当前点绘制率过低，建议调整参数")}return Object(a["R"])(ce,(function(e){e?(r=performance.now(),v=requestAnimationFrame(Ie)):window.cancelAnimationFrame(v)})),Object(a["A"])((function(){var e;m.value&&(k.value=m.value.title,T.value=m.value.createdAt,x.value=m.value.lastUpdatedAt,I.value=m.value.canvasWidth,C.value=m.value.canvasHeight,G.value=m.value.gamma,E.value=Object(We["cloneDeep"])(m.value.attractors),z.value=m.value.maxFrequency,S.value=m.value.pointsCalculated,q.value=m.value.pointsRendered,u=new ImageData(m.value.imageData.data,I.value,C.value),f=new Uint32Array(m.value.histogramData),j=Object.create(m.value.drawPoint),c=O(E.value.map((function(e){return e.weight})),1,!0,4),se.value=C.value>I.value,se.value?ie.value='{"width": '+C.value+', "height": '+I.value+"}":ie.value='{"width": '+I.value+', "height": '+C.value+"}",je.value=k.value),g.value&&(n=null===(e=g.value)||void 0===e?void 0:e.getContext("2d"))})),function(e,t){return Object(a["C"])(),Object(a["k"])(a["b"],null,[Object(a["n"])(Object(a["P"])(o["b"]),{position:"absolute","has-sider":""},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(l["a"]),{id:"sider",bordered:"","content-style":"padding: 24px",width:"400px","collapse-mode":"transform","collapsed-width":0,"show-trigger":"bar","native-scrollbar":!1},{default:Object(a["T"])((function(){return[Object(a["n"])(Oe,{"router-link":"/my-artworks"}),Object(a["n"])(Object(a["P"])(W["a"])),Object(a["n"])(Object(a["P"])(Q["a"]),{col:24,"x-gap":9,"y-gap":9},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),{span:22},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(be["b"]),{id:"flame-title",prefix:"bar"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(k.value),1)]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:2},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{size:"large",focusable:!1,round:"",text:"",onClick:t[0]||(t[0]=function(e){return fe.value=!0})},{icon:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(B["a"]),{size:20},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Je["a"]))]})),_:1})]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:Te},{default:Object(a["T"])((function(){return[nt]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:Te},{default:Object(a["T"])((function(){return[at]})),_:1})]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(W["a"])),Object(a["n"])(Object(a["P"])(Se["b"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(qe["a"]),{title:"基础信息"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ne["a"]),{column:1,bordered:"","label-placement":"left","label-align":"right",size:"small"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ae["a"]),{label:"创建于"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(h)(T.value)),1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"上次更新于"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(h)(x.value)),1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"画布大小"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(I.value)+" * "+Object(a["N"])(C.value)+" px ",1)]})),_:1})]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(qe["a"]),{title:"计算控制"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(H["a"]),{vertical:""},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ne["a"]),{column:1,bordered:"","label-placement":"left","label-align":"right",size:"small"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ae["a"]),{label:"已计算点"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(S.value.toExponential(3))+" 个 ",1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"已绘制点"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(q.value.toExponential(3))+" 个 ",1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"绘制率"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(pe).toFixed(2))+" % ",1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"最大采样频次"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(z.value)+" 次 ",1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"运行帧率"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(ce.value?L.value.toFixed(0):"-")+" 帧/每秒 ",1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"每帧计算"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(ce.value?K.value:"-")+" 次 ",1)]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:Pe},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(ce.value?"暂停计算":"开始计算"),1)]})),_:1})]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(qe["a"]),{title:"渲染控制"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Z["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ee["a"]),{label:"伽马校正值"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ne["a"]),{value:G.value,"onUpdate:value":t[1]||(t[1]=function(e){return G.value=e}),max:4,min:.1,step:.1,marks:{1:"1.0",2.2:"2.2"}},null,8,["value","min","step","marks"])]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:ke},{default:Object(a["T"])((function(){return[ct]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(qe["a"]),{title:"画布设置"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Z["a"]),{"label-placement":"left","label-align":"right"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ee["a"]),{label:"画布大小"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Re["a"]),{value:ie.value,"onUpdate:value":t[2]||(t[2]=function(e){return ie.value=e}),"leaf-only":"","expand-trigger":"hover","show-path":!1,options:Object(a["P"])(N)},null,8,["value","options"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"反转长/高"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Fe["a"]),{checked:se.value,"onUpdate:checked":t[3]||(t[3]=function(e){return se.value=e}),focusable:!1},null,8,["checked"])]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:ye},{default:Object(a["T"])((function(){return[rt]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(qe["a"]),{title:"随机化"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Z["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ee["a"]),{label:"吸引子个数（范围）"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ne["a"]),{value:oe.value,"onUpdate:value":t[4]||(t[4]=function(e){return oe.value=e}),range:"",min:Object(a["P"])(F).attractorSizeMin,max:Object(a["P"])(F).attractorSizeMax,step:1,marks:{3:"3",8:"8"}},null,8,["value","min","max"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"变体子种类个数（范围）"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Ne["a"]),{value:le.value,"onUpdate:value":t[5]||(t[5]=function(e){return le.value=e}),disabled:re.value,range:"",min:Object(a["P"])(F).variationSizeMin,max:Object(a["P"])(F).variationSizeMax,step:1,marks:{1:"1",6:"6"}},null,8,["value","disabled","min","max"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"使用指定变体子","label-placement":"left"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Le["a"]),{value:re.value,"onUpdate:value":t[6]||(t[6]=function(e){return re.value=e})},null,8,["value"])]})),_:1}),Object(a["n"])(Object(a["P"])(ee["a"]),{label:"指定变体子种类范围","validation-status":Object(a["P"])(ge),feedback:Object(a["P"])(we)},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Be["a"]),{value:ue.value,"onUpdate:value":t[7]||(t[7]=function(e){return ue.value=e}),multiple:"",options:Object(a["P"])(R),disabled:!re.value},null,8,["value","options","disabled"])]})),_:1},8,["validation-status","feedback"])]})),_:1}),Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"form-button",onClick:_e},{default:Object(a["T"])((function(){return[ut]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(qe["a"]),{title:"吸引子参数"},{default:Object(a["T"])((function(){return[Object(a["n"])(tt,{attractors:E.value,"onUpdate:attractors":Me},null,8,["attractors"])]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(W["a"]))]})),_:1}),Object(a["n"])(Object(a["P"])(i["a"]),{id:"canvas-container","content-style":"padding: 24px"},{default:Object(a["T"])((function(){return[Object(a["l"])("canvas",{id:"flame-canvas",ref:g,width:I.value,height:C.value},null,8,ot),Object(a["l"])("a",{ref:P,hidden:""},null,512)]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(X["a"]),{show:fe.value,"onUpdate:show":t[10]||(t[10]=function(e){return fe.value=e})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"rename-title-modal-card",title:"修改标题",size:"large",closable:!0,onClose:t[9]||(t[9]=function(e){return fe.value=!1})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(te["a"]),{value:je.value,"onUpdate:value":t[8]||(t[8]=function(e){return je.value=e}),placeholder:"请输入新的标题",size:"large",minlength:Object(a["P"])(F).flameTitleLengthMin,maxlength:Object(a["P"])(F).flameTitleLengthMax,"show-count":""},null,8,["value","minlength","maxlength"]),Object(a["n"])(Object(a["P"])($["a"]),{focusable:!1,class:"modal-button",disabled:je.value.length<Object(a["P"])(F).flameTitleLengthMin,onClick:xe},{default:Object(a["T"])((function(){return[lt]})),_:1},8,["disabled"])]})),_:1})]})),_:1},8,["show"])],64)}}});n("0023");it.__scopeId="data-v-d19aaf90";var bt=it,st=n("3d32");Object(a["F"])("data-v-32c22280");var ft=["src"],jt=["src"],Ot=Object(a["m"])(" 编辑作品 "),dt=Object(a["m"])(" 删除作品 "),vt=Object(a["m"])(" 收藏作品 "),ht=Object(a["m"])(" 复制到我的作品 ");Object(a["D"])();var mt=Object(a["o"])({props:{artwork:{type:Object,default:function(){return{}}},isMyArtwork:{type:Boolean,default:!1},isLogin:{type:Boolean,default:!1}},setup:function(e){var t=e,n=Object(L["c"])(),c=Object(b["b"])(D),r=Object(a["I"])(!1);function u(){c.dispatch("fetchArtworkDataAndOpen",t.artwork.artworkID).then((function(e){c.commit("setIsInEditor",!0),n.push("/flame")}))}function o(){console.log("准备删除某个作品")}return function(t,n){return Object(a["C"])(),Object(a["k"])(a["b"],null,[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"artwork-card",title:e.artwork.title,onClick:n[0]||(n[0]=function(e){return r.value=!0})},{cover:Object(a["T"])((function(){return[Object(a["l"])("img",{src:Object(a["P"])(m)(e.artwork.imageURL)},null,8,ft)]})),default:Object(a["T"])((function(){return[e.isMyArtwork?Object(a["j"])("",!0):(Object(a["C"])(),Object(a["i"])(Object(a["P"])(H["a"]),{key:0},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(B["a"]),null,{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(st["a"]))]})),_:1}),Object(a["l"])("span",null,Object(a["N"])(e.artwork.username),1)]})),_:1}))]})),_:1},8,["title"]),Object(a["n"])(Object(a["P"])(X["a"]),{show:r.value,"onUpdate:show":n[2]||(n[2]=function(e){return r.value=e})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(Y["c"]),{id:"artwork-modal-card",title:"作品详情",size:"large",closable:!0,onClose:n[1]||(n[1]=function(e){return r.value=!1})},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(H["a"]),{vertical:"",align:"center",justify:"center"},{default:Object(a["T"])((function(){return[Object(a["l"])("img",{id:"artwork-modal-image",src:Object(a["P"])(m)(e.artwork.imageURL)},null,8,jt),Object(a["n"])(Object(a["P"])(ne["a"]),{id:"artwork-modal-description",column:2,bordered:"","label-placement":"left","label-align":"right",size:"small"},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(ae["a"]),{label:"作者"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(e.artwork.username),1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"画布大小"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(e.artwork.canvasWidth)+" * "+Object(a["N"])(e.artwork.canvasHeight)+" px ",1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"创建于"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(h)(e.artwork.createdAt)),1)]})),_:1}),Object(a["n"])(Object(a["P"])(ae["a"]),{label:"上次更新于"},{default:Object(a["T"])((function(){return[Object(a["m"])(Object(a["N"])(Object(a["P"])(h)(e.artwork.lastUpdatedAt)),1)]})),_:1})]})),_:1})]})),_:1}),e.isMyArtwork?(Object(a["C"])(),Object(a["i"])(Object(a["P"])(Q["a"]),{key:0,cols:24,"x-gap":24},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{class:"modal-button",onClick:u},{default:Object(a["T"])((function(){return[Ot]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{class:"modal-button",onClick:o},{default:Object(a["T"])((function(){return[dt]})),_:1})]})),_:1})]})),_:1})):e.isLogin?(Object(a["C"])(),Object(a["i"])(Object(a["P"])(Q["a"]),{key:1,cols:24,"x-gap":24},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{class:"modal-button"},{default:Object(a["T"])((function(){return[vt]})),_:1})]})),_:1}),Object(a["n"])(Object(a["P"])(V["a"]),{span:12},{default:Object(a["T"])((function(){return[Object(a["n"])(Object(a["P"])($["a"]),{class:"modal-button"},{default:Object(a["T"])((function(){return[ht]})),_:1})]})),_:1})]})),_:1})):Object(a["j"])("",!0)]})),_:1})]})),_:1},8,["show"])],64)}}});n("a705");mt.__scopeId="data-v-32c22280";var pt=mt,gt=Object(a["m"])(" 浏览 "),wt=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D),n=Object(a["g"])((function(){return t.state.artworks})),c=Object(a["g"])((function(){return t.state.isLogin}));return t.commit("setIsInEditor",!1),Object(a["A"])((function(){t.dispatch("fetchArtworks")})),function(e,t){return Object(a["C"])(),Object(a["k"])(a["b"],null,[Object(a["n"])(Object(a["P"])(be["a"]),null,{default:Object(a["T"])((function(){return[gt]})),_:1}),Object(a["n"])(Object(a["P"])(Q["a"]),{cols:24,"x-gap":24},{default:Object(a["T"])((function(){return[(Object(a["C"])(!0),Object(a["k"])(a["b"],null,Object(a["J"])(Object(a["P"])(n),(function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(V["a"]),{key:t,span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(pt,{artwork:Object(a["P"])(n)?e:void 0,"is-my-artwork":!1,"is-login":Object(a["P"])(c)},null,8,["artwork","is-login"])]})),_:2},1024)})),128))]})),_:1})],64)}}}),Pt=wt,_t=Object(a["m"])(" 我的作品 "),kt=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D);t.commit("setIsInEditor",!1);var n=Object(a["g"])((function(){return t.state.artworks}));return Object(a["A"])((function(){t.dispatch("fetchMyArtworks")})),function(e,t){return Object(a["C"])(),Object(a["k"])(a["b"],null,[Object(a["n"])(Object(a["P"])(be["a"]),null,{default:Object(a["T"])((function(){return[_t]})),_:1}),Object(a["n"])(Object(a["P"])(Q["a"]),{cols:24,"x-gap":24},{default:Object(a["T"])((function(){return[(Object(a["C"])(!0),Object(a["k"])(a["b"],null,Object(a["J"])(Object(a["P"])(n),(function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(V["a"]),{key:t,span:8},{default:Object(a["T"])((function(){return[Object(a["n"])(pt,{artwork:Object(a["P"])(n)?Object(a["P"])(n)[t]:void 0,"is-my-artwork":!0},null,8,["artwork"])]})),_:2},1024)})),128))]})),_:1})],64)}}}),Tt=kt,yt=Object(a["m"])(" 我的收藏 "),Mt=Object(a["o"])({setup:function(e){var t=Object(b["b"])(D);t.commit("setIsInEditor",!1);Object(a["g"])((function(){return t.state.artworks}));return function(e,t){return Object(a["C"])(),Object(a["i"])(Object(a["P"])(be["a"]),null,{default:Object(a["T"])((function(){return[yt]})),_:1})}}}),xt=Mt,It=Object(L["b"])(),Ct=Object(L["a"])({history:It,routes:[{path:"/",name:"home",component:ze},{path:"/flame",name:"flame",component:bt},{path:"/artworks",name:"artworks",component:Pt},{path:"/my-artworks",name:"myArtworks",component:Tt},{path:"/my-bookmarks",name:"myBookmarks",component:xt}]}),Ut=Ct,At=Object(a["h"])(ye);A.a.defaults.baseURL="http://localhost:3000",At.use(Ut),At.use(E,D),At.mount("#app")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},dd22:function(e,t,n){},ffda:function(e,t,n){"use strict";n("19db")}});
//# sourceMappingURL=app.6f621559.js.map