{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/FlameEditor.vue?c0ba","webpack:///./src/assets/default_flame_3.png","webpack:///./src/assets sync ^\\.\\/.*$","webpack:///./src/components/SiderAttractorListItem.vue?2962","webpack:///./src/views/Home.vue?65ec","webpack:///./src/components/SiderAttractorList.vue?44ea","webpack:///./src/components/ArtworkCard.vue?03fc","webpack:///./src/components/SiderGlobalMenu.vue?fe0c","webpack:///./src/assets/default_flame_1.png","webpack:///./src/assets/default_flame_2.png","webpack:///./src/utils/Helper.ts","webpack:///./src/utils/FractalFlameAlgorithm.ts","webpack:///./src/testData.ts","webpack:///./src/store.ts","webpack:///./src/utils/Constants.ts","webpack:///./src/components/SiderTitle.vue","webpack:///./src/components/SiderTitle.vue?e676","webpack:///./src/components/SiderGlobalMenu.vue","webpack:///./src/components/SiderGlobalMenu.vue?f9ae","webpack:///./src/App.vue","webpack:///./src/App.vue?64a4","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?c29e","webpack:///./src/components/SiderAttractorListItem.vue","webpack:///./src/components/SiderAttractorListItem.vue?897e","webpack:///./src/components/SiderAttractorList.vue","webpack:///./src/components/SiderAttractorList.vue?f5bf","webpack:///./src/views/FlameEditor.vue","webpack:///./src/views/FlameEditor.vue?37e7","webpack:///./src/components/ArtworkCard.vue","webpack:///./src/components/ArtworkCard.vue?0e73","webpack:///./src/views/Artworks.vue","webpack:///./src/views/Artworks.vue?41e9","webpack:///./src/views/MyArtworks.vue","webpack:///./src/views/MyArtworks.vue?df95","webpack:///./src/views/MyBookmarks.vue","webpack:///./src/views/MyBookmarks.vue?d43a","webpack:///./src/router.ts","webpack:///./src/main.ts","webpack:///./src/assets/logo.png","webpack:///./src/App.vue?6c39","webpack:///./src/components/SiderTitle.vue?e62a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","randomInRange","isInteger","min","max","includeMin","includeMax","Math","ceil","floor","random","toFixedNumber","num","digits","base","pow","round","Number","EPSILON","normalizeArray","array","scale","shouldRound","sum","newArray","forEach","lastItem","randomWeightedPick","weights","randomValue","index","randomPermutation","size","temp","toCNDatetimeString","time","Date","toLocaleString","hour12","getImageURL","getNewImageData","width","height","imageData","ImageData","g","b","this","mix","target","source","parseString","regex","exec","Color","parseInt","toString","color","x","y","radius","sqrt","radiusSquare","theta","atan2","phi","omega","PI","psi","VariationFunctions","func","params","sin","cos","cosh","sinh","tan","VariationHelper","affineParams","f","exp","m1","m2","m3","weight","m4","p0","p1","p2","p3","abs","log10","psi1","psi2","typeIndex","functionInfo","chosenVariations","variationFunctions","variations","variationSize","localChosenVariations","variationWeights","chosenIndex","Variation","point","x0","y0","x1","y1","x2","y2","xi","yi","generateRandomChosenVariations","minSize","maxSize","generateRandomAttractors","attractors","oldWeights","newWeights","attractor","testAttractors1","getTestImageData","testFlameInEditor","artworkID","userID","title","createdAt","now","lastUpdatedAt","canvasWidth","canvasHeight","gamma","histogramData","Uint32Array","drawPoint","maxFrequency","pointsCalculated","pointsRendered","testUser","username","testHomeCarouselImages","testArtworks","imageURL","state","isLogin","isInEditor","user","flameInEditor","homeCarouselImages","artworks","mutations","updateFlameInEditor","payload","createNewFlameInEditor","setIsInEditor","login","logout","undefined","themeOverrides","common","baseColor","textColorBase","Layout","siderBorderColor","Divider","Button","borderRadiusMedium","border","Collapse","dividerColor","Descriptions","thColor","tdColor","borderColor","borderRadius","Typography","headerBarColor","Checkbox","Input","colorFocus","InternalSelection","ColorPicker","canvasResolutionOptions","label","children","variationOptions","sizeLimits","attractorSizeMin","attractorSizeMax","variationSizeMin","variationSizeMax","flameTitleLengthMin","flameTitleLengthMax","_hoisted_1","props","routerLink","type","String","default","setup","__props","store","router","onClickLogo","commit","_ctx","_cache","focusable","text","onClick","icon","Gripfire","_","__scopeId","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","menuOptions","menuOptionsIsLogin","menuOptionsNotLogin","renderIcon","Home","Bookmark","onMenuUpdate","inputShouldShowLoginModal","inputLoginFormValue","password","inputLoginFormRef","inputLoginFormRules","required","message","trigger","onLogin","loginUser","inputShouldShowRegisterModal","inputRegisterFormValue","passwordRepeat","inputRegisterFormRef","inputRegisterFormRules","validator","rule","inputShouldShowUserMenuModal","onLogout","SiderTitle","justify","$event","src","avatar","col","span","class","options","show","closable","onClose","ref","model","rules","path","placeholder","maxlength","vertical","align","_component_router_view","theme","dark","position","bordered","SiderGlobalMenu","carouselImages","cols","strong","autoplay","item","emits","localAttractor","updateAttractor","console","log","step","marks","0","1","disabled","circle","Times","localAttractors","addAttractor","removeAttractor","onApplyChange","SiderAttractorListItem","canvasContext","currentWeights","lastFrameTimeStamp","currentAnimationFrameHandle","nMessage","canvasRef","downloadLinkRef","canvasWidthRatio","canvasHeightRatio","frameRate","drawCallsPerFrame","isRunning","shouldUseSelectedVariations","selectedVariations","attractorsSizeRandomRange","variationSizeRandomRange","inputCanvasResolution","inputShouldInvertCanvasResolution","inputShouldShowRenameTitleModal","inputTitle","dynamicDrawCallsFrameRateThresholdHigh","dynamicDrawCallsFrameRateThresholdLow","dynamicDrawCallsAdjustRate","lowRenderPercentageWarningThreshold","pointsRenderPercentage","inputValidationSelectedVariations","inputFeedbackSelectedVariations","onToggleCanvasRunning","onRerollParameters","reset","val","setTimeout","checkLowRenderPercentage","error","onRenderCanvas","row","column","freq","alpha","putImageData","onDownloadImage","setAttribute","toDataURL","replace","click","onApplyCanvasSettings","canvasResolution","JSON","parse","onApplyAttractorsSettings","newAttractors","onRenameTitle","drawFlame","performance","requestAnimationFrame","pointsRenderedInFrame","writeCurrentPoint","dx","dy","clearRect","fillRect","getImageData","warning","newValue","cancelAnimationFrame","getContext","prefix","Edit","toExponential","toFixed","2.2","checked","range","3","8","6","feedback","multiple","SiderAttractorList","hidden","minlength","artwork","isMyArtwork","Boolean","inputShouldShowArtworkModal","onOpenArtwork","cover","User","ArtworkCard","routerHistory","history","routes","component","FlameEditor","Artworks","MyArtworks","MyBookmarks","app","App","use","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,cAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,uBCAAW,EAAOD,QAAU,IAA0B,oC,qBCA3C,IAAI+B,EAAM,CACT,wBAAyB,OACzB,wBAAyB,OACzB,wBAAyB,OACzB,aAAc,QAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOpC,EAAoBqC,GAE5B,SAASC,EAAsBF,GAC9B,IAAIpC,EAAoBW,EAAEuB,EAAKE,GAAM,CACpC,IAAIG,EAAI,IAAIC,MAAM,uBAAyBJ,EAAM,KAEjD,MADAG,EAAEE,KAAO,mBACHF,EAEP,OAAOL,EAAIE,GAEZD,EAAeO,KAAO,WACrB,OAAO5D,OAAO4D,KAAKR,IAEpBC,EAAeQ,QAAUL,EACzBlC,EAAOD,QAAUgC,EACjBA,EAAeE,GAAK,Q,6DCzBpB,W,oCCAA,W,sFCAA,W,gFCAA,W,kCCAA,W,4CCAAjC,EAAOD,QAAU,IAA0B,oC,qBCA3CC,EAAOD,QAAU,IAA0B,oC,iLCA3C,SAASyC,EAAeC,EAAoBC,EAAaC,EAAaC,EAAmBC,GACvF,YADoE,IAAAD,OAAA,QAAmB,IAAAC,OAAA,GACnFJ,GACFC,EAAMI,KAAKC,KAAKL,IAAQE,EAAa,EAAI,GACzCD,EAAMG,KAAKE,MAAML,IAAQE,EAAa,EAAI,GACnCC,KAAKE,MAAMF,KAAKG,UAAYN,EAAMD,GAAOA,IAEzCI,KAAKG,UAAYN,EAAMD,GAAOA,EAQzC,SAASQ,EAAeC,EAAaC,GACnC,IAAMC,EAAOP,KAAKQ,IAAI,GAAIR,KAAKS,MAAMH,IACrC,OAAON,KAAKS,OAAOJ,EAAMK,OAAOC,SAAWJ,GAAQA,EAGrD,SAASK,EAAgBC,EAAiBC,EAAeC,EAAsBN,QAAA,IAAAA,MAAA,GAC7E,IAAIO,EAAM,EACJC,EAAW,eAAIJ,GASrB,GARAI,EAASC,SAAQ,SAACzF,GAChBuF,GAAOvF,KAETwF,EAASC,SAAQ,SAAC7B,EAAG5D,GACnBwF,EAASxF,IAAMqF,EAAQE,KAIrBD,EAAa,CACfE,EAASC,SAAQ,SAAC7B,EAAG5D,GACnBwF,EAASxF,GAAK2E,EAAca,EAASxF,GAAIgF,MAK3C,IADA,IAAIU,EAAWL,EACNrF,EAAI,EAAGA,EAAIwF,EAAStF,OAAS,EAAGF,IACvC0F,GAAYF,EAASxF,GAEvBwF,EAASA,EAAStF,OAAS,GAAKwF,EAGlC,OAAOF,EAGT,SAASG,EAAoBC,GAC3B,IAAIL,EAAM,EACVK,EAAQH,SAAQ,SAACzF,GACfuF,GAAOvF,KAGT,IAAI6F,EAActB,KAAKG,SAAWa,EAAMK,EAAQ,GAC5CE,EAAQ,EACZ,MAAOD,EAAc,EACnBC,IACAD,GAAeD,EAAQE,GAEzB,OAAOA,EAGT,SAASC,EAAmBC,GAG1B,IADA,IAAMjF,EAAkB,GACff,EAAI,EAAGA,EAAIgG,EAAMhG,IACxBe,EAAOf,GAAKA,EAEd,IAASA,EAAIgG,EAAO,EAAGhG,EAAI,EAAGA,IAAK,CACjC,IAAMkB,EAAI+C,GAAc,EAAM,EAAGjE,GAAG,GAAM,GACpCiG,EAAOlF,EAAOG,GACpBH,EAAOG,GAAKH,EAAOf,GACnBe,EAAOf,GAAKiG,EAGd,OAAOlF,EAGT,SAASmF,EAAoBC,GAC3B,OAAO,IAAIC,KAAKD,GAAME,eAAe,QAAS,CAAEC,QAAQ,IAG1D,SAASC,EAAazE,GACpB,OAAO,UAAQ,KAAYA,GAG7B,SAAS0E,EAAiBC,EAAeC,GAEvC,IADA,IAAMC,EAAY,IAAIC,UAAUH,EAAOC,GAC9B1G,EAAI,EAAGA,EAAIyG,EAAQC,EAAQ1G,GAAK,EACvC2G,EAAUjH,KAAKM,GAAK,IAEtB,OAAO2G,ECxFT,iBAKE,WAAajC,EAAgBtC,EAAOyE,EAAOC,QAA9B,IAAApC,OAAA,QAAgB,IAAAtC,MAAA,QAAO,IAAAyE,MAAA,QAAO,IAAAC,MAAA,GACrCpC,GACFqC,KAAK3E,EAAI6B,GAAc,EAAM,EAAG,KAChC8C,KAAKF,EAAI5C,GAAc,EAAM,EAAG,KAChC8C,KAAKD,EAAI7C,GAAc,EAAM,EAAG,OAEhC8C,KAAK3E,EAAIA,EACT2E,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,GAwBf,OApBS,EAAAE,IAAP,SAAYC,EAAeC,GACzBD,EAAO7E,EAAImC,KAAKS,OAAOiC,EAAO7E,EAAI8E,EAAO9E,GAAK,GAC9C6E,EAAOJ,EAAItC,KAAKS,OAAOiC,EAAOJ,EAAIK,EAAOL,GAAK,GAC9CI,EAAOH,EAAIvC,KAAKS,OAAOiC,EAAOH,EAAII,EAAOJ,GAAK,IAIzC,EAAAK,YAAP,SAAoB5E,GAClB,IAAM6E,EAAQ,0CACRrG,EAASqG,EAAMC,KAAK9E,GAC1B,OAAIxB,EACK,IAAIuG,GAAM,EAAOC,SAASxG,EAAO,IAAKwG,SAASxG,EAAO,IAAKwG,SAASxG,EAAO,KAE3E,IAAIuG,GAIR,EAAAE,SAAP,SAAiBC,GACf,MAAO,OAAOA,EAAMrF,EAAC,KAAKqF,EAAMZ,EAAC,KAAKY,EAAMX,EAAC,KAEjD,EArCA,GAuCA,aAKE,WAAapC,EAAgBgD,EAAOC,EAAOF,QAA9B,IAAA/C,OAAA,QAAgB,IAAAgD,MAAA,QAAO,IAAAC,MAAA,QAAO,IAAAF,MAAA,IAAY,GAAM,EAAO,EAAG,EAAG,IACpE/C,GACFqC,KAAKW,EAAIzD,GAAc,GAAQ,EAAG,GAClC8C,KAAKY,EAAI1D,GAAc,GAAQ,EAAG,GAClC8C,KAAKU,MAAQ,IAAI,GAAM,KAEvBV,KAAKW,EAAIA,EACTX,KAAKY,EAAIA,EACTZ,KAAKU,MAAQA,GAGnB,SAhBA,GA6BA,2BAwBA,OAvBS,EAAAG,OAAP,SAAeF,EAAWC,GACxB,OAAOpD,KAAKsD,KAAKH,EAAIA,EAAIC,EAAIA,IAGxB,EAAAG,aAAP,SAAqBJ,EAAWC,GAC9B,OAAOD,EAAIA,EAAIC,EAAIA,GAGd,EAAAI,MAAP,SAAcL,EAAWC,GACvB,OAAOpD,KAAKyD,MAAMN,EAAGC,IAGhB,EAAAM,IAAP,SAAYP,EAAWC,GACrB,OAAOpD,KAAKyD,MAAML,EAAGD,IAGhB,EAAAQ,MAAP,WACE,OAAO3D,KAAKG,SAAW,GAAM,EAAIH,KAAK4D,IAGjC,EAAAC,IAAP,WACE,OAAO7D,KAAKG,UAEhB,EAxBA,GA0Ba2D,EAA2C,CAEtD,CACEvG,KAAM,SACNwG,KAAM,SAACC,GACL,MAAO,CAACA,EAAOb,EAAGa,EAAOZ,KAI7B,CACE7F,KAAM,aACNwG,KAAM,SAACC,GACL,MAAO,CAAChE,KAAKiE,IAAID,EAAOb,GAAInD,KAAKiE,IAAID,EAAOZ,MAIhD,CACE7F,KAAM,SACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,MAAO,CAAChE,KAAKkE,IAAIlE,KAAK4D,GAAKT,GAAKnD,KAAKmE,KAAKf,IAAKpD,KAAKiE,IAAIjE,KAAK4D,GAAKT,GAAKnD,KAAKoE,KAAKhB,MAIrF,CACE7F,KAAM,UACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,MAAO,CAAChE,KAAKiE,IAAId,GAAKnD,KAAKkE,IAAId,GAAIpD,KAAKqE,IAAIjB,MAIhD,CACE7F,KAAM,aACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,MAAO,CAAChE,KAAKiE,IAAIK,EAAgBd,MAAML,EAAGC,IAAMkB,EAAgBjB,OAAOF,EAAGC,GAAIkB,EAAgBjB,OAAOF,EAAGC,GAAKpD,KAAKkE,IAAII,EAAgBd,MAAML,EAAGC,OAInJ,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,MAAO,CAACM,EAAgBd,MAAML,EAAGC,GAAKpD,KAAK4D,GAAIU,EAAgBjB,OAAOF,EAAGC,GAAK,KAIlF,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAAuBa,EAAM,EAA1BZ,EAAoBY,EAAM,EAAvBO,EAAiBP,EAAM,aACrC,GAAIO,EAAc,CAChB,IAAMhC,EAAIgC,EAAa,GACjBlH,EAAIkH,EAAa,GACjBlF,EAAIkF,EAAa,GACjBC,EAAID,EAAa,GAEvB,MAAO,CAACpB,EAAIZ,EAAIvC,KAAKiE,IAAIb,GAAK/F,EAAIA,IAAK+F,EAAI/D,EAAIW,KAAKiE,IAAId,GAAKqB,EAAIA,KAEjE,MAAO,CAACrB,EAAGC,KAKjB,CACE7F,KAAM,cACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,MAAO,CAAChE,KAAKyE,IAAItB,EAAI,GAAKnD,KAAKkE,IAAIlE,KAAK4D,GAAKR,GAAIpD,KAAKyE,IAAItB,EAAI,GAAKnD,KAAKiE,IAAIjE,KAAK4D,GAAKR,MAI1F,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBd,MAAML,EAAGC,GAC9BuB,EAAK3E,KAAKiE,IAAIS,GACdE,EAAK5E,KAAKQ,IAAI8D,EAAgBjB,OAAOF,EAAGC,GAAIuB,GAClD,MAAO,CAACC,EAAK5E,KAAKkE,IAAIQ,GAAKE,EAAKD,KAIpC,CACEpH,KAAM,OACNwG,KAAM,SAACC,GACG,IAAAb,EAAiBa,EAAM,EAApBZ,EAAcY,EAAM,EAAjBa,EAAWb,EAAM,OAC/B,GAAIa,EAAQ,CACV,IAAMH,EAAKG,EAAS7E,KAAKqE,IAAIC,EAAgBT,MAAQ7D,KAAK4D,GAAKiB,GAAUP,EAAgBf,aAAaJ,EAAGC,GACzG,MAAO,CAACsB,EAAK1E,KAAKkE,IAAIf,GAAIuB,EAAK1E,KAAKiE,IAAIb,IAExC,MAAO,CAACD,EAAGC,KAKjB,CACE7F,KAAM,SACNwG,KAAM,SAACC,GACG,IAAAb,EAAiBa,EAAM,EAApBZ,EAAcY,EAAM,EAAjBa,EAAWb,EAAM,OAC/B,OAAIa,EACK,CAAC1B,EAAG,GAAK0B,EAAS7E,KAAKkE,IAAIW,EAASP,EAAgBjB,OAAOF,EAAGC,MAE9D,CAACD,EAAGC,KAKjB,CACE7F,KAAM,YACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK,EAAIJ,EAAgBf,aAAaJ,EAAGC,GAC/C,MAAO,CAACsB,EAAKvB,EAAGuB,EAAKtB,KAIzB,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBf,aAAaJ,EAAGC,GACrCuB,EAAK3E,KAAKiE,IAAIS,GACdE,EAAK5E,KAAKkE,IAAIQ,GACpB,MAAO,CAACvB,EAAIwB,EAAKvB,EAAIwB,EAAIzB,EAAIyB,EAAKxB,EAAIuB,KAI1C,CACEpH,KAAM,YACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK,EAAIJ,EAAgBjB,OAAOF,EAAGC,GACzC,MAAO,CAACsB,GAAMvB,EAAIC,IAAMD,EAAIC,GAAS,EAALsB,EAASvB,EAAIC,KAIjD,CACE7F,KAAM,eACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GACpC,MAAO,CAACsB,EAAK1E,KAAKiE,IAAIU,EAAKD,GAAKA,EAAK1E,KAAKkE,IAAIS,EAAKD,MAIvD,CACEnH,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GACpC,MAAO,CAACsB,EAAK1E,KAAKiE,IAAIU,EAAKD,IAAMA,EAAK1E,KAAKkE,IAAIS,EAAKD,MAIxD,CACEnH,KAAM,OACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBd,MAAML,EAAGC,GAAKpD,KAAK4D,GACxCe,EAAKL,EAAgBjB,OAAOF,EAAGC,GAAKpD,KAAK4D,GAC/C,MAAO,CAACc,EAAK1E,KAAKiE,IAAIU,GAAKD,EAAK1E,KAAKkE,IAAIS,MAI7C,CACEpH,KAAM,SACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GACpC,MAAO,CAAC,EAAIsB,GAAM1E,KAAKkE,IAAIS,GAAM3E,KAAKiE,IAAIS,IAAM,EAAIA,GAAM1E,KAAKiE,IAAIU,GAAM3E,KAAKkE,IAAIQ,OAItF,CACEnH,KAAM,OACNwG,KAAM,SAACC,GACG,IAAAb,EAAuBa,EAAM,EAA1BZ,EAAoBY,EAAM,EAAvBO,EAAiBP,EAAM,aACrC,GAAIO,EAAc,CAChB,IAAMG,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GAC9BwB,EAAKL,EAAa,GAAKA,EAAa,GACpCO,GAAOJ,EAAKE,IAAO,EAAIA,GAAOA,EAAKF,GAAM,EAAIE,GAEnD,MAAO,CAACE,EAAK9E,KAAKkE,IAAIS,GAAKG,EAAK9E,KAAKiE,IAAIU,IAEzC,MAAO,CAACxB,EAAGC,KAKjB,CACE7F,KAAM,UACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GACpC,MAAO,CAACpD,KAAKkE,IAAIQ,GAAM1E,KAAKiE,IAAIU,GAAK3E,KAAKkE,IAAIS,GAAM3E,KAAKiE,IAAIS,MAIjE,CACEnH,KAAM,UACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK,GAAKJ,EAAgBjB,OAAOF,EAAGC,GAAK,GAC/C,MAAO,CAACsB,EAAKtB,EAAGsB,EAAKvB,KAIzB,CACE5F,KAAM,UACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK,GAAKJ,EAAgBjB,OAAOF,EAAGC,GAAK,GAC/C,MAAO,CAACsB,EAAKvB,EAAGuB,EAAKtB,KAIzB,CACE7F,KAAM,UACNwG,KAAM,SAACC,GACG,IAAAb,EAAuBa,EAAM,EAA1BZ,EAAoBY,EAAM,EAAvBO,EAAiBP,EAAM,aACrC,GAAIO,EAAc,CAChB,IAAMlH,EAAIkH,EAAa,GACjBC,EAAID,EAAa,GACvB,MAAO,CAACpB,EAAI9F,EAAI2C,KAAKiE,IAAIjE,KAAKqE,IAAI,EAAIjB,IAAKA,EAAIoB,EAAIxE,KAAKiE,IAAIjE,KAAKqE,IAAI,EAAIlB,KAEzE,MAAO,CAACA,EAAGC,KAKjB,CACE7F,KAAM,MACNwG,KAAM,SAACC,GACG,IAAAb,EAAuBa,EAAM,EAA1BZ,EAAoBY,EAAM,EAAvBO,EAAiBP,EAAM,aACrC,GAAIO,EAAc,CAChB,IAAMtG,EAAI+B,KAAK4D,GAAKW,EAAa,GAAKA,EAAa,GAC7CC,EAAID,EAAa,GACjBG,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GACpC,OAAKuB,EAAKH,GAAKvG,EAAIA,EAAI,EACd,CAACyG,EAAK1E,KAAKkE,IAAIS,EAAK1G,EAAI,GAAIyG,EAAK1E,KAAKiE,IAAIU,EAAK1G,EAAI,IAEnD,CAACyG,EAAK1E,KAAKkE,IAAIS,EAAK1G,EAAI,GAAIyG,EAAK1E,KAAKiE,IAAIU,EAAK1G,EAAI,IAG5D,MAAO,CAACkF,EAAGC,KAKjB,CACE7F,KAAM,SACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK,GAAKJ,EAAgBf,aAAaJ,EAAGC,GAAK,GACrD,MAAO,CAACsB,EAAKvB,EAAGuB,EAAKtB,KAIzB,CACE7F,KAAM,WACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,MAAO,CAAChE,KAAKiE,IAAId,GAAIC,KAIzB,CACE7F,KAAM,OACNwG,KAAM,SAACC,GACG,IAAAb,EAAiBa,EAAM,EAApBZ,EAAcY,EAAM,EAAjBa,EAAWb,EAAM,OAC/B,GAAIa,EAAQ,CACV,IAAMH,EAAKJ,EAAgBT,MAAQ7D,KAAK4D,GAAKiB,EAC7C,MAAO,CAAC7E,KAAKiE,IAAIS,GAAK1E,KAAKiE,IAAIS,GAAM1E,KAAKiE,IAAIS,GAAM1E,KAAKkE,IAAIQ,IAE7D,MAAO,CAACvB,EAAGC,KAKjB,CACE7F,KAAM,KACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKJ,EAAgBjB,OAAOF,EAAGC,GAC/BuB,EAAKL,EAAgBd,MAAML,EAAGC,GAC9B2B,EAAK/E,KAAKiE,IAAIU,EAAKD,GACnBM,EAAKhF,KAAKkE,IAAIS,EAAKD,GACnBO,EAAKF,EAAKA,EAAKA,EACfG,EAAKF,EAAKA,EAAKA,EACrB,MAAO,CAACN,GAAMO,EAAKC,GAAKR,GAAMO,EAAKC,MAIvC,CACE3H,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK1E,KAAKmF,IAAI,GAAKhC,EAAIA,EAAIC,EAAIA,IACrC,MAAO,CAACsB,EAAKvB,EAAGuB,EAAKtB,KAIzB,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAAiBa,EAAM,EAApBZ,EAAcY,EAAM,EAAjBa,EAAWb,EAAM,OAC/B,GAAIa,EAAQ,CACV,IAAMH,EAAKJ,EAAgBT,MAAQS,EAAgBjB,OAAOF,EAAGC,GAAKyB,EAC5DF,EAAK3E,KAAKkE,IAAIQ,GACdE,EAAK5E,KAAKiE,IAAIS,GACpB,MAAO,CAACvB,GAAKwB,EAAKC,GAAKzB,GAAKwB,EAAKC,IAEjC,MAAO,CAACzB,EAAGC,KAKjB,CACE7F,KAAM,eACNwG,KAAM,SAACC,GACG,IAAAb,EAAiBa,EAAM,EAApBZ,EAAcY,EAAM,EAAjBa,EAAWb,EAAM,OAC/B,GAAIa,EAAQ,CACV,IAAMH,EAAKJ,EAAgBT,MAAQS,EAAgBjB,OAAOF,EAAGC,GAAKyB,EAC5DF,EAAK3E,KAAKiE,IAAIS,GACdE,EAAK5E,KAAKkE,IAAIQ,GACdzG,EAAI+B,KAAKoF,MAAMT,EAAKA,GAAMC,EAChC,MAAO,CAACzB,EAAIlF,EAAGkF,GAAKlF,EAAI+B,KAAK4D,GAAKe,IAElC,MAAO,CAACxB,EAAGC,KAKjB,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAK1E,KAAKsD,KAAKgB,EAAgBjB,OAAOF,EAAGC,IACzCuB,EAAKL,EAAgBd,MAAML,EAAGC,GAAK,EAAIkB,EAAgBX,QAC7D,MAAO,CAACe,EAAK1E,KAAKkE,IAAIS,GAAKD,EAAK1E,KAAKiE,IAAIU,MAI7C,CACEpH,KAAM,OACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACvB,OAAIb,GAAK,EACHC,GAAK,EACA,CAACD,EAAGC,GAEJ,CAACD,EAAGC,EAAI,GAGbA,GAAK,EACA,CAAC,EAAID,EAAGC,GAER,CAAC,EAAID,EAAGC,EAAI,KAM3B,CACE7F,KAAM,QACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBqB,EAAOf,EAAgBT,MACvByB,EAAO,EAAItF,KAAK4D,GAAKU,EAAgBT,MAC3C,MAAO,CAACwB,EAAOlC,EAAInD,KAAKkE,IAAIoB,GAAOD,EAAOjC,EAAIpD,KAAKiE,IAAIqB,MAI3D,CACE/H,KAAM,OACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKvB,EAAIC,EACTiC,EAAOf,EAAgBT,MACvByB,EAAO,EAAItF,KAAK4D,GAAKU,EAAgBT,MAC3C,MAAO,CAACwB,EAAOrF,KAAKkE,IAAIoB,GAAQZ,EAAKA,EAAIW,EAAOrF,KAAKiE,IAAIqB,MAI7D,CACE/H,KAAM,WACNwG,KAAM,SAACC,GAIL,IAHQ,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKvB,EAAIC,EACXiC,GAAQ,EACH5J,EAAI,EAAGA,EAAI,EAAGA,IACrB4J,GAAQf,EAAgBT,MAE1B,IAAMyB,EAAO,EAAItF,KAAK4D,GAAKU,EAAgBT,MAE3C,MAAO,CAACwB,EAAOrF,KAAKkE,IAAIoB,GAAQZ,EAAKA,EAAIW,EAAOrF,KAAKiE,IAAIqB,MAI7D,CACE/H,KAAM,SACNwG,KAAM,SAACC,GACG,IAAAb,EAASa,EAAM,EAAZZ,EAAMY,EAAM,EACjBU,EAAKvB,EAAIC,EACf,MAAO,CAACkB,EAAgBT,MAAQ,GAAMa,EAAKA,EAAIJ,EAAgBT,MAAQ,OAI7E,aAKE,WAAa0B,EAAmBV,EAAgBW,GAC9ChD,KAAK+C,UAAYA,EACjB/C,KAAKqC,OAASA,EACdrC,KAAKgD,aAAeA,EAExB,SAVA,GAYA,aAME,WACErF,EACAoE,EACAM,EAAY3B,EACZuC,EACAC,GASA,QAbA,IAAAvF,OAAA,QACA,IAAAoE,MAAA,CAAgB,EAAG,EAAG,EAAG,EAAG,EAAG,SAC/B,IAAAM,MAAA,QAAY,IAAA3B,MAAA,IAAY,GAAM,EAAO,EAAG,EAAG,SAC3C,IAAAuC,MAAA,CAA8B,SAC9B,IAAAC,MAAA,CACE,CACEnI,KAAM,SACNwG,KAAM,SAACC,GACL,MAAO,CAACA,EAAOb,EAAGa,EAAOZ,OAK3BjD,EAAQ,CACVqC,KAAK+B,aAAe,GACpB,IAAK,IAAI9I,EAAI,EAAGA,EAAI,EAAGA,IACrB+G,KAAK+B,aAAatI,KAAKmE,EAAcV,GAAc,GAAQ,EAAG,GAAI,IAEpE8C,KAAKqC,OAASzE,EAAcJ,KAAKG,SAAU,GAC3CqC,KAAKU,MAAQ,IAAI,GAAM,GAGvBV,KAAKmD,WAAa,GAClB,IAAMC,EAAgBlG,GAAc,EAAM,EAAG+F,EAAiB9J,QACxDkK,EAAwBrE,EAAkBiE,EAAiB9J,QAAQoD,MAAM,EAAG6G,GAE9EE,EAA4B,GAChC,IAASrK,EAAI,EAAGA,EAAImK,EAAenK,IACjCqK,EAAiBrK,GAAKuE,KAAKG,SAE7B2F,EAAmB,eAAIlF,EAAekF,EAAkB,GAAG,EAAM,IACjE,IAASrK,EAAI,EAAGA,EAAImK,EAAenK,IAAK,CACtC,IAAMsK,EAAcN,EAAiBI,EAAsBpK,IAC3D+G,KAAKmD,WAAWlK,GAAK,IAAIuK,EAAUD,EAAaD,EAAiBrK,GAAIiK,EAAmBK,UAG1FvD,KAAK+B,aAAeA,EACpB/B,KAAKqC,OAASA,EACdrC,KAAKU,MAAQA,EACbV,KAAKmD,WAAa,GAElBnD,KAAKmD,WAAW,GAAK,IAAIK,EAAU,EAAG,EAAGN,EAAmB,IA8BlE,OAzBE,YAAApJ,MAAA,SAAO2J,GASL,IAPQ,IAAGC,EAAcD,EAAK,EAAZE,EAAOF,EAAK,EACxBG,EAAK5D,KAAK+B,aAAa,GAAK2B,EAAK1D,KAAK+B,aAAa,GAAK4B,EAAK3D,KAAK+B,aAAa,GAC/E8B,EAAK7D,KAAK+B,aAAa,GAAK2B,EAAK1D,KAAK+B,aAAa,GAAK4B,EAAK3D,KAAK+B,aAAa,GAGjF+B,EAAK,EACLC,EAAK,EACA9K,EAAI,EAAGA,EAAI+G,KAAKmD,WAAWhK,OAAQF,IAAK,CACzC,MAAW+G,KAAKmD,WAAWlK,GAAG+J,aAAazB,KAAK,CACpDZ,EAAGiD,EACHhD,EAAGiD,EACH9B,aAAc/B,KAAK+B,aACnBM,OAAQrC,KAAKqC,SAJR2B,EAAE,KAAEC,EAAE,KAMP5B,EAASrC,KAAKmD,WAAWlK,GAAGoJ,OAClCyB,GAAME,EAAK3B,EACX0B,GAAME,EAAK5B,EAEboB,EAAM9C,EAAImD,EACVL,EAAM7C,EAAImD,EAEV,EAAM9D,IAAIwD,EAAM/C,MAAOV,KAAKU,QAEhC,EA9EA,GAgFO,SAASwD,EACdC,EACAC,EACAlB,GAEA,IAAMjE,EAAO/B,GAAc,EAAMiH,EAASC,GAC1C,OAAOpF,EAAkBkE,EAAmB/J,QAAQoD,MAAM,EAAG0C,GAGxD,SAASoF,EACdF,EACAC,EACAnB,EACAC,GAIA,IAFA,IAAMjE,EAAO/B,GAAc,EAAMiH,EAASC,GACpCE,EAA0B,GACvBrL,EAAI,EAAGA,EAAIgG,EAAMhG,IACxBqL,EAAW7K,KAAK,IAAI,GAAU,EAAM,GAAI,EAAG,IAAI,EAASwJ,EAAkBC,IAI5E,IAAMqB,EAAaD,EAAW9H,KAAI,SAAAvD,GAAK,OAAAA,EAAEoJ,UACnCmC,EAAapG,EAAemG,EAAY,GAAG,EAAM,GAIvD,OAHAD,EAAW5F,SAAQ,SAAC+F,EAAW1F,GAC7B0F,EAAUpC,OAASmC,EAAWzF,MAEzBuF,ECpnBT,IAAMI,EAA+B,CACnC,IAAI,GACF,EACA,CAAC,GAAK,EAAG,EAAG,EAAG,GAAK,GACpB,IACA,IAAI,GAAM,EAAO,IAAK,EAAG,GACzB,CAAC,GACDpD,GAEF,IAAI,GACF,EACA,CAAC,GAAK,EAAG,EAAG,EAAG,GAAK,IACpB,IACA,IAAI,GAAM,EAAO,EAAG,IAAK,GACzB,CAAC,GACDA,GAEF,IAAI,GACF,EACA,CAAC,GAAK,EAAG,GAAK,EAAG,GAAK,GACtB,IACA,IAAI,GAAM,EAAO,EAAG,EAAG,KACvB,CAAC,GACDA,IAIJ,SAASqD,EAAkBjF,EAAeC,GAExC,IADA,IAAMC,EAAY,IAAIC,UAAUH,EAAOC,GAC9B1G,EAAI,EAAGA,EAAIyG,EAAQC,EAAQ1G,GAAK,EACvC2G,EAAUjH,KAAKM,GAAK,IAEtB,OAAO2G,EAGF,IAAMgF,EAAoC,CAC/CC,UAAW,IACXC,OAAQ,IACRC,MAAO,aACPC,UAAW3F,KAAK4F,MAChBC,cAAe7F,KAAK4F,MACpBX,WAAYI,EACZS,YAAa,IACbC,aAAc,IACdC,MAAO,IACPzF,UAAW+E,EAAiB,IAAK,KACjCW,cAAe,IAAIC,YAAY,OAC/BC,UAAW,IAAI,GAAM,GACrBC,aAAc,EACdC,iBAAkB,EAClBC,eAAgB,GAGLC,EAAkB,CAC7Bd,OAAQ,IACRe,SAAU,WAGCC,EAAyB,CACpC,sBACA,sBACA,uBAGWC,EAA2B,CACtC,CACElB,UAAW,IACXC,OAAQ,IACRC,MAAO,eACPc,SAAU,aACVG,SAAU,sBACVhB,UAAW3F,KAAK4F,MAChBC,cAAe7F,KAAK4F,MACpBE,YAAa,IACbC,aAAc,KAEhB,CACEP,UAAW,IACXC,OAAQ,IACRC,MAAO,eACPc,SAAU,aACVG,SAAU,sBACVhB,UAAW3F,KAAK4F,MAChBC,cAAe7F,KAAK4F,MACpBE,YAAa,IACbC,aAAc,KAEhB,CACEP,UAAW,IACXC,OAAQ,IACRC,MAAO,eACPc,SAAU,aACVG,SAAU,sBACVhB,UAAW3F,KAAK4F,MAChBC,cAAe7F,KAAK4F,MACpBE,YAAa,IACbC,aAAc,MCjDL,EAAwC9J,OAAO,OAE/C,EAAQ,eAAyB,CAC5C2K,MAAO,CACLC,SAAS,EACTC,YAAY,EACZC,KAAMR,EACNS,cAAezB,EACf0B,mBAAoBR,EACpBS,SAAUR,GAEZS,UAAW,CACTC,oBAAA,SAAqBR,EAAOS,GAC1BT,EAAMI,cAAgBK,GAExBC,uBAAsB,SAAEV,GACtBA,EAAMI,cAAgB,CACpBxB,UAAW,GACXC,OAAQmB,EAAMG,KAAOH,EAAMG,KAAKtB,OAAS,GACzCC,MAAO,OACPC,UAAW3F,KAAK4F,MAChBC,cAAe7F,KAAK4F,MACpBX,WAAY,CACV,IAAI,GACF,EACA,CAAC,GAAK,EAAG,EAAG,EAAG,IAAM9G,KAAKsD,KAAK,GAAK,GACpC,IACA,IAAI,GAAM,EAAO,IAAK,EAAG,GACzB,CAAC,GACDQ,GAEF,IAAI,GACF,EACA,CAAC,GAAK,EAAG,IAAM,EAAG,GAAK9D,KAAKsD,KAAK,GAAK,IACtC,IACA,IAAI,GAAM,EAAO,EAAG,IAAK,GACzB,CAAC,GACDQ,GAEF,IAAI,GACF,EACA,CAAC,GAAK,GAAI,IAAM,EAAG,GAAK9D,KAAKsD,KAAK,GAAK,IACvC,IACA,IAAI,GAAM,EAAO,EAAG,EAAG,KACvB,CAAC,GACDQ,IAGJ6D,YAAa,IACbC,aAAc,IACdC,MAAO,IACPzF,UAAWH,EAAgB,IAAK,KAChC6F,cAAe,IAAIC,YAAY,SAC/BC,UAAW,IAAI,GAAM,GACrBC,aAAc,EACdC,iBAAkB,EAClBC,eAAgB,IAGpBiB,cAAA,SAAeX,EAAOE,GACpBF,EAAME,WAAaA,GAErBU,MAAA,SAAOZ,EAAOG,GACZH,EAAMG,KAAOA,EACbH,EAAMC,SAAU,GAElBY,OAAM,SAAEb,GACNA,EAAMG,UAAOW,EACbd,EAAMC,SAAU,MCpHhBc,EAAuC,CAC3CC,OAAQ,CACNC,UAAW,QACXC,cAAe,SAEjBC,OAAQ,CACNC,iBAAkB,SAEpBC,QAAS,CACP5G,MAAO,SAET6G,OAAQ,CACNC,mBAAoB,MACpBC,OAAQ,+BACR/G,MAAO,mBAETgH,SAAU,CACRC,aAAc,SAEhBC,aAAc,CACZC,QAAS,kBACTC,QAAS,QACTC,YAAa,YACbC,aAAc,OAEhBC,WAAY,CACVC,eAAgB,SAElBC,SAAU,CACRV,OAAQ,qCACRO,aAAc,OAEhBI,MAAO,CACL1H,MAAO,QACP2H,WAAY,kBACZZ,OAAQ,oCACRO,aAAc,OAEhBM,kBAAmB,CACjBb,OAAQ,oCACRO,aAAc,MACdtH,MAAO,SAET6H,YAAa,CACXd,OAAQ,oCACRO,aAAc,QAIZQ,EAA0B,CAC9B,CACEC,MAAO,MACPjN,MAAO,MACPkN,SAAU,CACR,CACED,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,cACPjN,MAAO,mCAET,CACEiN,MAAO,cACPjN,MAAO,qCAIb,CACEiN,MAAO,MACPjN,MAAO,MACPkN,SAAU,CACR,CACED,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,YACPjN,MAAO,iCAET,CACEiN,MAAO,aACPjN,MAAO,kCAET,CACEiN,MAAO,cACPjN,MAAO,qCAIb,CACEiN,MAAO,OACPjN,MAAO,OACPkN,SAAU,CACR,CACED,MAAO,aACPjN,MAAO,kCAET,CACEiN,MAAO,aACPjN,MAAO,kCAET,CACEiN,MAAO,aACPjN,MAAO,kCAET,CACEiN,MAAO,cACPjN,MAAO,sCAMTmN,EAAmB,CACvB,CACEF,MAAO,aACPjN,MAAO,GAET,CACEiN,MAAO,iBACPjN,MAAO,GAET,CACEiN,MAAO,aACPjN,MAAO,GAET,CACEiN,MAAO,cACPjN,MAAO,GAET,CACEiN,MAAO,kBACPjN,MAAO,GAET,CACEiN,MAAO,aACPjN,MAAO,GAET,CACEiN,MAAO,WACPjN,MAAO,GAET,CACEiN,MAAO,oBACPjN,MAAO,GAET,CACEiN,MAAO,cACPjN,MAAO,GAET,CACEiN,MAAO,WACPjN,MAAO,GAET,CACEiN,MAAO,aACPjN,MAAO,IAET,CACEiN,MAAO,gBACPjN,MAAO,IAET,CACEiN,MAAO,YACPjN,MAAO,IAET,CACEiN,MAAO,gBACPjN,MAAO,IAET,CACEiN,MAAO,mBACPjN,MAAO,IAET,CACEiN,MAAO,WACPjN,MAAO,IAET,CACEiN,MAAO,WACPjN,MAAO,IAET,CACEiN,MAAO,aACPjN,MAAO,IAET,CACEiN,MAAO,UACPjN,MAAO,IAET,CACEiN,MAAO,cACPjN,MAAO,IAET,CACEiN,MAAO,cACPjN,MAAO,IAET,CACEiN,MAAO,cACPjN,MAAO,IAET,CACEiN,MAAO,eACPjN,MAAO,IAET,CACEiN,MAAO,UACPjN,MAAO,IAET,CACEiN,MAAO,aACPjN,MAAO,IAET,CACEiN,MAAO,eACPjN,MAAO,IAET,CACEiN,MAAO,UACPjN,MAAO,IAET,CACEiN,MAAO,UACPjN,MAAO,IAET,CACEiN,MAAO,YACPjN,MAAO,IAET,CACEiN,MAAO,YACPjN,MAAO,IAET,CACEiN,MAAO,qBACPjN,MAAO,IAET,CACEiN,MAAO,cACPjN,MAAO,IAET,CACEiN,MAAO,WACPjN,MAAO,IAET,CACEiN,MAAO,KACPjN,MAAO,IAET,CACEiN,MAAO,WACPjN,MAAO,IAET,CACEiN,MAAO,iBACPjN,MAAO,IAET,CACEiN,MAAO,aACPjN,MAA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","file":"js/app.d20aac93.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/fracflame/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FlameEditor.vue?vue&type=style&index=0&id=d19aaf90&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/default_flame_3.ab627e1b.png\";","var map = {\n\t\"./default_flame_1.png\": \"bbd1\",\n\t\"./default_flame_2.png\": \"bf47\",\n\t\"./default_flame_3.png\": \"04b0\",\n\t\"./logo.png\": \"cf05\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"1771\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SiderAttractorListItem.vue?vue&type=style&index=0&id=07b3c3a0&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=de1fbc8a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SiderAttractorList.vue?vue&type=style&index=0&id=7deb1e57&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ArtworkCard.vue?vue&type=style&index=0&id=df733972&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SiderGlobalMenu.vue?vue&type=style&index=0&id=ac74abca&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/default_flame_1.a07de142.png\";","module.exports = __webpack_public_path__ + \"img/default_flame_2.bfafd27d.png\";","function randomInRange (isInteger: boolean, min: number, max: number, includeMin = true, includeMax = true): number {\r\n  if (isInteger) {\r\n    min = Math.ceil(min) + (includeMin ? 0 : 1)\r\n    max = Math.floor(max) + (includeMax ? 1 : 0)\r\n    return Math.floor(Math.random() * (max - min) + min) // 最小值可以取到，最大值取不到\r\n  } else {\r\n    return Math.random() * (max - min) + min\r\n  }\r\n}\r\n\r\nfunction toPercentageString (num: number): string {\r\n  return (num * 100).toString() + '%'\r\n}\r\n\r\nfunction toFixedNumber (num: number, digits: number): number {\r\n  const base = Math.pow(10, Math.round(digits))\r\n  return Math.round((num + Number.EPSILON) * base) / base\r\n}\r\n\r\nfunction normalizeArray (array: number[], scale: number, shouldRound: boolean, round = 0): number[] {\r\n  let sum = 0\r\n  const newArray = [...array]\r\n  newArray.forEach((i) => {\r\n    sum += i\r\n  })\r\n  newArray.forEach((e, i) => {\r\n    newArray[i] *= scale / sum\r\n  })\r\n\r\n  // round 表示四舍五入位数，负为小数点前位数，正为小数点后位数，0为个位四舍五入\r\n  if (shouldRound) {\r\n    newArray.forEach((e, i) => {\r\n      newArray[i] = toFixedNumber(newArray[i], round)\r\n    })\r\n\r\n    // 用最后一项消除误差\r\n    let lastItem = scale\r\n    for (let i = 0; i < newArray.length - 1; i++) {\r\n      lastItem -= newArray[i]\r\n    }\r\n    newArray[newArray.length - 1] = lastItem\r\n  }\r\n\r\n  return newArray\r\n}\r\n\r\nfunction randomWeightedPick (weights: number[]): number {\r\n  let sum = 0\r\n  weights.forEach((i) => {\r\n    sum += i\r\n  })\r\n\r\n  let randomValue = Math.random() * sum - weights[0]\r\n  let index = 0\r\n  while (randomValue > 0) {\r\n    index++\r\n    randomValue -= weights[index]\r\n  }\r\n  return index\r\n}\r\n\r\nfunction randomPermutation (size: number):number[] {\r\n  // fisher-yates算法\r\n  const result:number[] = []\r\n  for (let i = 0; i < size; i++) {\r\n    result[i] = i\r\n  }\r\n  for (let i = size - 1; i > 0; i--) {\r\n    const j = randomInRange(true, 0, i, true, false)\r\n    const temp = result[j]\r\n    result[j] = result[i]\r\n    result[i] = temp\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction toCNDatetimeString (time: number): string {\r\n  return new Date(time).toLocaleString('zh-CN', { hour12: false })\r\n}\r\n\r\nfunction getImageURL (name: string): string {\r\n  return require(`@/assets/${name}`)\r\n}\r\n\r\nfunction getNewImageData (width: number, height: number): ImageData {\r\n  const imageData = new ImageData(width, height)\r\n  for (let i = 3; i < width * height; i += 4) {\r\n    imageData.data[i] = 255\r\n  }\r\n  return imageData\r\n}\r\nexport {\r\n  randomInRange,\r\n  toPercentageString,\r\n  toFixedNumber,\r\n  normalizeArray,\r\n  randomWeightedPick,\r\n  randomPermutation,\r\n  toCNDatetimeString,\r\n  getImageURL,\r\n  getNewImageData\r\n}\r\n","import { randomInRange, normalizeArray, toFixedNumber, randomPermutation } from './Helper'\r\n\r\nexport class Color {\r\n  r: number\r\n  g: number\r\n  b: number\r\n\r\n  constructor (random = false, r = 0, g = 0, b = 0) {\r\n    if (random) {\r\n      this.r = randomInRange(true, 0, 255)\r\n      this.g = randomInRange(true, 0, 255)\r\n      this.b = randomInRange(true, 0, 255)\r\n    } else {\r\n      this.r = r\r\n      this.g = g\r\n      this.b = b\r\n    }\r\n  }\r\n\r\n  static mix (target: Color, source: Color): void {\r\n    target.r = Math.round((target.r + source.r) / 2)\r\n    target.g = Math.round((target.g + source.g) / 2)\r\n    target.b = Math.round((target.b + source.b) / 2)\r\n  }\r\n\r\n  // 将rgb(1, 1, 1)模式的字符串匹配为对应对象，失败返回默认值\r\n  static parseString (value: string): Color {\r\n    const regex = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/g\r\n    const result = regex.exec(value)\r\n    if (result) {\r\n      return new Color(false, parseInt(result[1]), parseInt(result[2]), parseInt(result[3]))\r\n    } else {\r\n      return new Color()\r\n    }\r\n  }\r\n\r\n  static toString (color: Color): string {\r\n    return `rgb(${color.r}, ${color.g}, ${color.b})`\r\n  }\r\n}\r\n\r\nexport class Point {\r\n  x: number\r\n  y: number\r\n  color: Color\r\n\r\n  constructor (random = false, x = 0, y = 0, color = new Color(false, 1, 1, 1)) {\r\n    if (random) {\r\n      this.x = randomInRange(false, -1, 1)\r\n      this.y = randomInRange(false, -1, 1)\r\n      this.color = new Color(true)\r\n    } else {\r\n      this.x = x\r\n      this.y = y\r\n      this.color = color\r\n    }\r\n  }\r\n}\r\n\r\ninterface IVariationFunctionParams {\r\n  x: number\r\n  y: number\r\n  affineParams?: number[]\r\n  weight?: number\r\n}\r\ninterface IVariationFunction {\r\n  name: string\r\n  func: (params: IVariationFunctionParams) => [x: number, y: number]\r\n}\r\n\r\nclass VariationHelper {\r\n  static radius (x: number, y: number): number {\r\n    return Math.sqrt(x * x + y * y)\r\n  }\r\n\r\n  static radiusSquare (x: number, y: number): number {\r\n    return x * x + y * y\r\n  }\r\n\r\n  static theta (x: number, y: number): number {\r\n    return Math.atan2(x, y)\r\n  }\r\n\r\n  static phi (x: number, y: number): number {\r\n    return Math.atan2(y, x)\r\n  }\r\n\r\n  static omega (): number {\r\n    return Math.random() > 0.5 ? 0 : Math.PI\r\n  }\r\n\r\n  static psi (): number {\r\n    return Math.random()\r\n  }\r\n}\r\n\r\nexport const VariationFunctions: IVariationFunction[] = [\r\n  // 0.线性\r\n  {\r\n    name: 'linear',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      return [params.x, params.y]\r\n    }\r\n  },\r\n  // 1.正弦\r\n  {\r\n    name: 'sinusoidal',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      return [Math.sin(params.x), Math.sin(params.y)]\r\n    }\r\n  },\r\n  // 2.余弦\r\n  {\r\n    name: 'cosine',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      return [Math.cos(Math.PI * x) * Math.cosh(y), -Math.sin(Math.PI * x) * Math.sinh(y)]\r\n    }\r\n  },\r\n  // 3.正切\r\n  {\r\n    name: 'tangent',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      return [Math.sin(x) / Math.cos(y), Math.tan(y)]\r\n    }\r\n  },\r\n  // 4.双曲线\r\n  {\r\n    name: 'hyperbolic',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      return [Math.sin(VariationHelper.theta(x, y)) / VariationHelper.radius(x, y), VariationHelper.radius(x, y) * Math.cos(VariationHelper.theta(x, y))]\r\n    }\r\n  },\r\n  // 5.极坐标\r\n  {\r\n    name: 'polar',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      return [VariationHelper.theta(x, y) / Math.PI, VariationHelper.radius(x, y) - 1]\r\n    }\r\n  },\r\n  // 6.波\r\n  {\r\n    name: 'waves',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, affineParams } = params\r\n      if (affineParams) {\r\n        const b = affineParams[1]\r\n        const c = affineParams[2]\r\n        const e = affineParams[4]\r\n        const f = affineParams[5]\r\n\r\n        return [x + b * Math.sin(y / (c * c)), y + e * Math.sin(x / (f * f))]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 7.自然指数\r\n  {\r\n    name: 'exponential',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      return [Math.exp(x - 1) * Math.cos(Math.PI * y), Math.exp(x - 1) * Math.sin(Math.PI * y)]\r\n    }\r\n  },\r\n  // 8.极坐标幂\r\n  {\r\n    name: 'power',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.theta(x, y)\r\n      const m2 = Math.sin(m1)\r\n      const m3 = Math.pow(VariationHelper.radius(x, y), m2)\r\n      return [m3 * Math.cos(m1), m3 * m2]\r\n    }\r\n  },\r\n  // 9.射线\r\n  {\r\n    name: 'rays',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, weight } = params\r\n      if (weight) {\r\n        const m1 = weight * Math.tan(VariationHelper.psi() * Math.PI * weight) / VariationHelper.radiusSquare(x, y)\r\n        return [m1 * Math.cos(x), m1 * Math.sin(y)]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 10.割线\r\n  {\r\n    name: 'secant',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, weight } = params\r\n      if (weight) {\r\n        return [x, 1 / (weight * Math.cos(weight * VariationHelper.radius(x, y)))]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 11.球面\r\n  {\r\n    name: 'spherical',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = 1 / VariationHelper.radiusSquare(x, y)\r\n      return [m1 * x, m1 * y]\r\n    }\r\n  },\r\n  // 12.漩涡\r\n  {\r\n    name: 'swirl',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.radiusSquare(x, y)\r\n      const m2 = Math.sin(m1)\r\n      const m3 = Math.cos(m1)\r\n      return [x * m2 - y * m3, x * m3 + y * m2]\r\n    }\r\n  },\r\n  // 13.马掌\r\n  {\r\n    name: 'horseshoe',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = 1 / VariationHelper.radius(x, y)\r\n      return [m1 * (x - y) * (x + y), m1 * 2 * x * y]\r\n    }\r\n  },\r\n  // 14.方巾\r\n  {\r\n    name: 'handkerchief',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.radius(x, y)\r\n      const m2 = VariationHelper.theta(x, y)\r\n      return [m1 * Math.sin(m2 + m1), m1 * Math.cos(m2 - m1)]\r\n    }\r\n  },\r\n  // 15.心\r\n  {\r\n    name: 'heart',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.radius(x, y)\r\n      const m2 = VariationHelper.theta(x, y)\r\n      return [m1 * Math.sin(m2 * m1), -m1 * Math.cos(m2 * m1)]\r\n    }\r\n  },\r\n  // 16.圆盘\r\n  {\r\n    name: 'disc',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.theta(x, y) / Math.PI\r\n      const m2 = VariationHelper.radius(x, y) * Math.PI\r\n      return [m1 * Math.sin(m2), m1 * Math.cos(m2)]\r\n    }\r\n  },\r\n  // 17.螺旋\r\n  {\r\n    name: 'spiral',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.radius(x, y)\r\n      const m2 = VariationHelper.theta(x, y)\r\n      return [1 / m1 * (Math.cos(m2) + Math.sin(m1)), 1 / m1 * (Math.sin(m2) - Math.cos(m1))]\r\n    }\r\n  },\r\n  // 18.环\r\n  {\r\n    name: 'ring',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, affineParams } = params\r\n      if (affineParams) {\r\n        const m1 = VariationHelper.radius(x, y)\r\n        const m2 = VariationHelper.theta(x, y)\r\n        const m3 = affineParams[2] * affineParams[2]\r\n        const m4 = ((m1 + m3) % (2 * m3)) - m3 + m1 * (1 - m3)\r\n\r\n        return [m4 * Math.cos(m2), m4 * Math.sin(m2)]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 19.钻石\r\n  {\r\n    name: 'diamond',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.radius(x, y)\r\n      const m2 = VariationHelper.theta(x, y)\r\n      return [Math.cos(m1) * Math.sin(m2), Math.cos(m2) * Math.sin(m1)]\r\n    }\r\n  },\r\n  // 20.鱼眼\r\n  {\r\n    name: 'fisheye',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = 2 / (VariationHelper.radius(x, y) + 1)\r\n      return [m1 * y, m1 * x]\r\n    }\r\n  },\r\n  // 21.眼鱼\r\n  {\r\n    name: 'eyefish',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = 2 / (VariationHelper.radius(x, y) + 1)\r\n      return [m1 * x, m1 * y]\r\n    }\r\n  },\r\n  // 22.爆米花\r\n  {\r\n    name: 'popcorn',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, affineParams } = params\r\n      if (affineParams) {\r\n        const c = affineParams[2]\r\n        const f = affineParams[5]\r\n        return [x + c * Math.sin(Math.tan(3 * y)), y + f * Math.sin(Math.tan(3 * x))]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 23.风扇\r\n  {\r\n    name: 'fan',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, affineParams } = params\r\n      if (affineParams) {\r\n        const t = Math.PI * affineParams[2] * affineParams[2]\r\n        const f = affineParams[5]\r\n        const m1 = VariationHelper.radius(x, y)\r\n        const m2 = VariationHelper.theta(x, y)\r\n        if ((m2 + f) % t > t / 2) {\r\n          return [m1 * Math.cos(m2 - t / 2), m1 * Math.sin(m2 - t / 2)]\r\n        } else {\r\n          return [m1 * Math.cos(m2 + t / 2), m1 * Math.sin(m2 + t / 2)]\r\n        }\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 24.气泡\r\n  {\r\n    name: 'bubble',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = 4 / (VariationHelper.radiusSquare(x, y) + 4)\r\n      return [m1 * x, m1 * y]\r\n    }\r\n  },\r\n  // 25.圆柱\r\n  {\r\n    name: 'cylinder',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      return [Math.sin(x), y]\r\n    }\r\n  },\r\n  // 26.拱\r\n  {\r\n    name: 'arch',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, weight } = params\r\n      if (weight) {\r\n        const m1 = VariationHelper.psi() * Math.PI * weight\r\n        return [Math.sin(m1), Math.sin(m1) * Math.sin(m1) / Math.cos(m1)]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 27.对角线\r\n  {\r\n    name: 'ex',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = VariationHelper.radius(x, y)\r\n      const m2 = VariationHelper.theta(x, y)\r\n      const p0 = Math.sin(m2 + m1)\r\n      const p1 = Math.cos(m2 - m1)\r\n      const p2 = p0 * p0 * p0\r\n      const p3 = p1 * p1 * p1\r\n      return [m1 * (p2 + p3), m1 * (p2 - p3)]\r\n    }\r\n  },\r\n  // 28.十字\r\n  {\r\n    name: 'cross',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = Math.abs(1 / (x * x - y * y))\r\n      return [m1 * x, m1 * y]\r\n    }\r\n  },\r\n  // 29.刀刃\r\n  {\r\n    name: 'blade',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, weight } = params\r\n      if (weight) {\r\n        const m1 = VariationHelper.psi() * VariationHelper.radius(x, y) * weight\r\n        const m2 = Math.cos(m1)\r\n        const m3 = Math.sin(m1)\r\n        return [x * (m2 + m3), x * (m2 - m3)]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 30.双三角\r\n  {\r\n    name: 'twinTriangle',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y, weight } = params\r\n      if (weight) {\r\n        const m1 = VariationHelper.psi() * VariationHelper.radius(x, y) * weight\r\n        const m2 = Math.sin(m1)\r\n        const m3 = Math.cos(m1)\r\n        const t = Math.log10(m2 * m2) + m3\r\n        return [x * t, x * (t - Math.PI * m2)]\r\n      } else {\r\n        return [x, y]\r\n      }\r\n    }\r\n  },\r\n  // 31.朱利亚集\r\n  {\r\n    name: 'julia',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = Math.sqrt(VariationHelper.radius(x, y))\r\n      const m2 = VariationHelper.theta(x, y) / 2 + VariationHelper.omega()\r\n      return [m1 * Math.cos(m2), m1 * Math.sin(m2)]\r\n    }\r\n  },\r\n  // 32.弯曲\r\n  {\r\n    name: 'bent',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      if (x >= 0) {\r\n        if (y >= 0) {\r\n          return [x, y]\r\n        } else {\r\n          return [x, y / 2]\r\n        }\r\n      } else {\r\n        if (y >= 0) {\r\n          return [2 * x, y]\r\n        } else {\r\n          return [2 * x, y / 2]\r\n        }\r\n      }\r\n    }\r\n  },\r\n  // 33.噪音\r\n  {\r\n    name: 'noise',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const psi1 = VariationHelper.psi()\r\n      const psi2 = 2 * Math.PI * VariationHelper.psi()\r\n      return [psi1 * x * Math.cos(psi2), psi1 * y * Math.sin(psi2)]\r\n    }\r\n  },\r\n  // 34.模糊\r\n  {\r\n    name: 'blur',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = x + y // 改params为可选参数很麻烦，这里绕一下\r\n      const psi1 = VariationHelper.psi()\r\n      const psi2 = 2 * Math.PI * VariationHelper.psi()\r\n      return [psi1 * Math.cos(psi2) + m1 - m1, psi1 * Math.sin(psi2)]\r\n    }\r\n  },\r\n  // 35.高斯模糊\r\n  {\r\n    name: 'gaussian',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = x + y // 改params为可选参数很麻烦，这里绕一下\r\n      let psi1 = -2\r\n      for (let i = 0; i < 4; i++) {\r\n        psi1 += VariationHelper.psi()\r\n      }\r\n      const psi2 = 2 * Math.PI * VariationHelper.psi()\r\n\r\n      return [psi1 * Math.cos(psi2) + m1 - m1, psi1 * Math.sin(psi2)]\r\n    }\r\n  },\r\n  // 36.方形\r\n  {\r\n    name: 'square',\r\n    func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n      const { x, y } = params\r\n      const m1 = x + y // 改params为可选参数很麻烦，这里绕一下\r\n      return [VariationHelper.psi() - 0.5 + m1 - m1, VariationHelper.psi() - 0.5]\r\n    }\r\n  }\r\n]\r\nexport class Variation {\r\n  typeIndex: number\r\n  weight: number\r\n  functionInfo: IVariationFunction\r\n\r\n  constructor (typeIndex: number, weight: number, functionInfo: IVariationFunction) {\r\n    this.typeIndex = typeIndex\r\n    this.weight = weight\r\n    this.functionInfo = functionInfo\r\n  }\r\n}\r\n\r\nexport class Attractor {\r\n  affineParams: number[]\r\n  weight: number\r\n  color: Color\r\n  variations: Variation[]\r\n\r\n  constructor (\r\n    random = false,\r\n    affineParams = [1, 0, 0, 0, 1, 0],\r\n    weight = 1, color = new Color(false, 0, 0, 0),\r\n    chosenVariations: number[] = [0],\r\n    variationFunctions: IVariationFunction[] = [\r\n      {\r\n        name: 'linear',\r\n        func: (params: IVariationFunctionParams): [x: number, y: number] => {\r\n          return [params.x, params.y]\r\n        }\r\n      }\r\n    ]\r\n  ) {\r\n    if (random) {\r\n      this.affineParams = []\r\n      for (let i = 0; i < 6; i++) {\r\n        this.affineParams.push(toFixedNumber(randomInRange(false, -1, 1), 4))\r\n      }\r\n      this.weight = toFixedNumber(Math.random(), 4)\r\n      this.color = new Color(true)\r\n\r\n      // 从给定范围中随机选若干个不重复的变体子\r\n      this.variations = []\r\n      const variationSize = randomInRange(true, 1, chosenVariations.length)\r\n      const localChosenVariations = randomPermutation(chosenVariations.length).slice(0, variationSize)\r\n      // 初始化一组权重\r\n      let variationWeights:number[] = []\r\n      for (let i = 0; i < variationSize; i++) {\r\n        variationWeights[i] = Math.random()\r\n      }\r\n      variationWeights = [...normalizeArray(variationWeights, 1, true, 4)]\r\n      for (let i = 0; i < variationSize; i++) {\r\n        const chosenIndex = chosenVariations[localChosenVariations[i]]\r\n        this.variations[i] = new Variation(chosenIndex, variationWeights[i], variationFunctions[chosenIndex])\r\n      }\r\n    } else {\r\n      this.affineParams = affineParams\r\n      this.weight = weight\r\n      this.color = color\r\n      this.variations = []\r\n      // 默认为1个线性变体子\r\n      this.variations[0] = new Variation(0, 1, variationFunctions[0])\r\n    }\r\n  }\r\n\r\n  // 由于每次绘制都调用，出于性能考虑直接更改传进来的参数\r\n  apply (point: Point):void {\r\n    // 仿射变换\r\n    const { x: x0, y: y0 } = point\r\n    const x1 = this.affineParams[0] * x0 + this.affineParams[1] * y0 + this.affineParams[2]\r\n    const y1 = this.affineParams[3] * x0 + this.affineParams[4] * y0 + this.affineParams[5]\r\n\r\n    // 应用变体子\r\n    let x2 = 0\r\n    let y2 = 0\r\n    for (let i = 0; i < this.variations.length; i++) {\r\n      const [xi, yi] = this.variations[i].functionInfo.func({\r\n        x: x1,\r\n        y: y1,\r\n        affineParams: this.affineParams,\r\n        weight: this.weight\r\n      })\r\n      const weight = this.variations[i].weight\r\n      x2 += xi * weight\r\n      y2 += yi * weight\r\n    }\r\n    point.x = x2\r\n    point.y = y2\r\n    // 计算颜色\r\n    Color.mix(point.color, this.color)\r\n  }\r\n}\r\n\r\nexport function generateRandomChosenVariations (\r\n  minSize: number,\r\n  maxSize: number,\r\n  variationFunctions: IVariationFunction[]\r\n):number[] {\r\n  const size = randomInRange(true, minSize, maxSize)\r\n  return randomPermutation(variationFunctions.length).slice(0, size)\r\n}\r\n\r\nexport function generateRandomAttractors (\r\n  minSize: number,\r\n  maxSize: number,\r\n  chosenVariations: number[], // 变体子范围由用户指定或随机生成\r\n  variationFunctions: IVariationFunction[]\r\n): Attractor[] {\r\n  const size = randomInRange(true, minSize, maxSize)\r\n  const attractors :Attractor[] = []\r\n  for (let i = 0; i < size; i++) {\r\n    attractors.push(new Attractor(true, [], 0, new Color(), chosenVariations, variationFunctions))\r\n  }\r\n\r\n  // 归一权重, 默认权重和为1， 精确至小数点后4位\r\n  const oldWeights = attractors.map(i => i.weight)\r\n  const newWeights = normalizeArray(oldWeights, 1, true, 4)\r\n  attractors.forEach((attractor, index) => {\r\n    attractor.weight = newWeights[index]\r\n  })\r\n  return attractors\r\n}\r\n","import { Attractor, Color, Point, VariationFunctions } from '@/utils/FractalFlameAlgorithm'\r\nimport { IFlameInEditor, IUser, IArtwork } from './store'\r\n\r\nconst testAttractors1: Attractor[] = [\r\n  new Attractor(\r\n    false,\r\n    [0.5, 0, 0, 0, 0.5, 0],\r\n    0.33,\r\n    new Color(false, 255, 0, 0),\r\n    [0],\r\n    VariationFunctions\r\n  ),\r\n  new Attractor(\r\n    false,\r\n    [0.5, 0, 0, 0, 0.5, 0.5],\r\n    0.33,\r\n    new Color(false, 0, 255, 0),\r\n    [0],\r\n    VariationFunctions\r\n  ),\r\n  new Attractor(\r\n    false,\r\n    [0.5, 0, 0.5, 0, 0.5, 0],\r\n    0.34,\r\n    new Color(false, 0, 0, 255),\r\n    [0],\r\n    VariationFunctions\r\n  )\r\n]\r\n\r\nfunction getTestImageData (width: number, height: number): ImageData {\r\n  const imageData = new ImageData(width, height)\r\n  for (let i = 3; i < width * height; i += 4) {\r\n    imageData.data[i] = 255\r\n  }\r\n  return imageData\r\n}\r\n\r\nexport const testFlameInEditor: IFlameInEditor = {\r\n  artworkID: '1',\r\n  userID: '1',\r\n  title: 'test flame',\r\n  createdAt: Date.now(),\r\n  lastUpdatedAt: Date.now(),\r\n  attractors: testAttractors1,\r\n  canvasWidth: 800,\r\n  canvasHeight: 600,\r\n  gamma: 2.2,\r\n  imageData: getTestImageData(800, 600),\r\n  histogramData: new Uint32Array(800 * 600 * 4),\r\n  drawPoint: new Point(true),\r\n  maxFrequency: 0,\r\n  pointsCalculated: 0,\r\n  pointsRendered: 0\r\n}\r\n\r\nexport const testUser: IUser = {\r\n  userID: '1',\r\n  username: 'slpwlkr'\r\n}\r\n\r\nexport const testHomeCarouselImages = [\r\n  'default_flame_1.png',\r\n  'default_flame_2.png',\r\n  'default_flame_3.png'\r\n]\r\n\r\nexport const testArtworks: IArtwork[] = [\r\n  {\r\n    artworkID: '1',\r\n    userID: '1',\r\n    title: 'test flame 1',\r\n    username: 'testUser 1',\r\n    imageURL: 'default_flame_1.png',\r\n    createdAt: Date.now(),\r\n    lastUpdatedAt: Date.now(),\r\n    canvasWidth: 600,\r\n    canvasHeight: 600\r\n  },\r\n  {\r\n    artworkID: '2',\r\n    userID: '2',\r\n    title: 'test flame 2',\r\n    username: 'testUser 2',\r\n    imageURL: 'default_flame_2.png',\r\n    createdAt: Date.now(),\r\n    lastUpdatedAt: Date.now(),\r\n    canvasWidth: 800,\r\n    canvasHeight: 600\r\n  },\r\n  {\r\n    artworkID: '3',\r\n    userID: '3',\r\n    title: 'test flame 3',\r\n    username: 'testUser 3',\r\n    imageURL: 'default_flame_3.png',\r\n    createdAt: Date.now(),\r\n    lastUpdatedAt: Date.now(),\r\n    canvasWidth: 800,\r\n    canvasHeight: 600\r\n  }\r\n]\r\n","import { InjectionKey } from 'vue'\r\nimport { createStore, Store } from 'vuex'\r\nimport { Attractor, Point, Color, VariationFunctions } from '@/utils/FractalFlameAlgorithm'\r\nimport { getNewImageData } from '@/utils/Helper'\r\nimport { testFlameInEditor, testUser, testHomeCarouselImages, testArtworks } from './testData'\r\n\r\nexport interface IFlameInEditor {\r\n  artworkID: string\r\n  userID: string\r\n  title: string\r\n  createdAt: number\r\n  lastUpdatedAt: number\r\n  attractors: Attractor[]\r\n  canvasWidth: number\r\n  canvasHeight: number\r\n  gamma: number\r\n  imageData: ImageData\r\n  histogramData: Uint32Array\r\n  drawPoint: Point\r\n  maxFrequency: number\r\n  pointsCalculated: number\r\n  pointsRendered: number\r\n}\r\n\r\nexport interface IUser {\r\n  userID: string,\r\n  username: string,\r\n  avatar?: string\r\n}\r\n\r\nexport interface IArtwork {\r\n  artworkID: string,\r\n  userID: string,\r\n  title: string,\r\n  username: string,\r\n  imageURL: string,\r\n  createdAt: number,\r\n  lastUpdatedAt: number,\r\n  canvasWidth: number,\r\n  canvasHeight: number\r\n}\r\nexport interface IStoreState {\r\n  isLogin: boolean,\r\n  isInEditor: boolean\r\n  user?: IUser\r\n  flameInEditor?: IFlameInEditor\r\n  homeCarouselImages?: string[]\r\n  artworks?: IArtwork[]\r\n}\r\n\r\nexport const key: InjectionKey<Store<IStoreState>> = Symbol('key')\r\n\r\nexport const store = createStore<IStoreState>({\r\n  state: {\r\n    isLogin: false,\r\n    isInEditor: false,\r\n    user: testUser,\r\n    flameInEditor: testFlameInEditor,\r\n    homeCarouselImages: testHomeCarouselImages,\r\n    artworks: testArtworks\r\n  },\r\n  mutations: {\r\n    updateFlameInEditor (state, payload: IFlameInEditor) {\r\n      state.flameInEditor = payload\r\n    },\r\n    createNewFlameInEditor (state) {\r\n      state.flameInEditor = {\r\n        artworkID: '',\r\n        userID: state.user ? state.user.userID : '',\r\n        title: '新建焰火',\r\n        createdAt: Date.now(),\r\n        lastUpdatedAt: Date.now(),\r\n        attractors: [\r\n          new Attractor(\r\n            false,\r\n            [0.5, 0, 0, 0, 0.5, -Math.sqrt(3) / 6],\r\n            0.33,\r\n            new Color(false, 255, 0, 0),\r\n            [0],\r\n            VariationFunctions\r\n          ),\r\n          new Attractor(\r\n            false,\r\n            [0.5, 0, 0.25, 0, 0.5, Math.sqrt(3) / 12],\r\n            0.33,\r\n            new Color(false, 0, 255, 0),\r\n            [0],\r\n            VariationFunctions\r\n          ),\r\n          new Attractor(\r\n            false,\r\n            [0.5, 0, -0.25, 0, 0.5, Math.sqrt(3) / 12],\r\n            0.34,\r\n            new Color(false, 0, 0, 255),\r\n            [0],\r\n            VariationFunctions\r\n          )\r\n        ],\r\n        canvasWidth: 640,\r\n        canvasHeight: 640,\r\n        gamma: 2.2,\r\n        imageData: getNewImageData(640, 640),\r\n        histogramData: new Uint32Array(640 * 640 * 4),\r\n        drawPoint: new Point(true),\r\n        maxFrequency: 0,\r\n        pointsCalculated: 0,\r\n        pointsRendered: 0\r\n      }\r\n    },\r\n    setIsInEditor (state, isInEditor: boolean) {\r\n      state.isInEditor = isInEditor\r\n    },\r\n    login (state, user: IUser) {\r\n      state.user = user\r\n      state.isLogin = true\r\n    },\r\n    logout (state) {\r\n      state.user = undefined\r\n      state.isLogin = false\r\n    }\r\n  }\r\n})\r\n","import { GlobalThemeOverrides } from 'naive-ui'\r\n\r\nconst themeOverrides: GlobalThemeOverrides = {\r\n  common: {\r\n    baseColor: 'black',\r\n    textColorBase: 'white'\r\n  },\r\n  Layout: {\r\n    siderBorderColor: 'white'\r\n  },\r\n  Divider: {\r\n    color: 'white'\r\n  },\r\n  Button: {\r\n    borderRadiusMedium: '0px',\r\n    border: '1px solid rgb(255, 255, 255)',\r\n    color: 'rgb(32, 32, 32)'\r\n  },\r\n  Collapse: {\r\n    dividerColor: 'white'\r\n  },\r\n  Descriptions: {\r\n    thColor: 'rgb(32, 32, 32)',\r\n    tdColor: 'black',\r\n    borderColor: 'lightgray',\r\n    borderRadius: '0px'\r\n  },\r\n  Typography: {\r\n    headerBarColor: 'white'\r\n  },\r\n  Checkbox: {\r\n    border: '1px solid rgba(255, 255, 255, 0.9)',\r\n    borderRadius: '0px'\r\n  },\r\n  Input: {\r\n    color: 'black',\r\n    colorFocus: 'rgb(32, 32, 32)',\r\n    border: '1px solid rgb(255, 255, 255, 0.9)',\r\n    borderRadius: '0px'\r\n  },\r\n  InternalSelection: {\r\n    border: '1px solid rgb(255, 255, 255, 0.9)',\r\n    borderRadius: '0px',\r\n    color: 'black'\r\n  },\r\n  ColorPicker: {\r\n    border: '1px solid rgb(255, 255, 255, 0.9)',\r\n    borderRadius: '0px'\r\n  }\r\n}\r\n\r\nconst canvasResolutionOptions = [\r\n  {\r\n    label: '1:1',\r\n    value: '1:1',\r\n    children: [\r\n      {\r\n        label: '320 * 320',\r\n        value: '{\"width\": 320, \"height\": 320}'\r\n      },\r\n      {\r\n        label: '480 * 480',\r\n        value: '{\"width\": 480, \"height\": 480}'\r\n      },\r\n      {\r\n        label: '512 * 512',\r\n        value: '{\"width\": 512, \"height\": 512}'\r\n      },\r\n      {\r\n        label: '640 * 640',\r\n        value: '{\"width\": 640, \"height\": 640}'\r\n      },\r\n      {\r\n        label: '800 * 800',\r\n        value: '{\"width\": 800, \"height\": 800}'\r\n      },\r\n      {\r\n        label: '1024 * 1024',\r\n        value: '{\"width\": 1024, \"height\": 1024}'\r\n      },\r\n      {\r\n        label: '1200 * 1200',\r\n        value: '{\"width\": 1200, \"height\": 1200}'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    label: '4:3',\r\n    value: '4:3',\r\n    children: [\r\n      {\r\n        label: '640 * 480',\r\n        value: '{\"width\": 640, \"height\": 480}'\r\n      },\r\n      {\r\n        label: '800 * 600',\r\n        value: '{\"width\": 800, \"height\": 600}'\r\n      },\r\n      {\r\n        label: '1024 * 768',\r\n        value: '{\"width\": 1024, \"height\": 768}'\r\n      },\r\n      {\r\n        label: '1440 * 1080',\r\n        value: '{\"width\": 1440, \"height\": 1080}'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    label: '16:9',\r\n    value: '16:9',\r\n    children: [\r\n      {\r\n        label: '1024 * 576',\r\n        value: '{\"width\": 1024, \"height\": 576}'\r\n      },\r\n      {\r\n        label: '1280 * 720',\r\n        value: '{\"width\": 1024, \"height\": 576}'\r\n      },\r\n      {\r\n        label: '1600 * 900',\r\n        value: '{\"width\": 1600, \"height\": 900}'\r\n      },\r\n      {\r\n        label: '1920 * 1080',\r\n        value: '{\"width\": 1920, \"height\": 1080}'\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nconst variationOptions = [\r\n  {\r\n    label: '线性(linear)',\r\n    value: 0\r\n  },\r\n  {\r\n    label: '正弦(sinusoidal)',\r\n    value: 1\r\n  },\r\n  {\r\n    label: '余弦(cosine)',\r\n    value: 2\r\n  },\r\n  {\r\n    label: '正切(tangent)',\r\n    value: 3\r\n  },\r\n  {\r\n    label: '双曲线(hyperbolic)',\r\n    value: 4\r\n  },\r\n  {\r\n    label: '极坐标(polar)',\r\n    value: 5\r\n  },\r\n  {\r\n    label: '波(waves)',\r\n    value: 6\r\n  },\r\n  {\r\n    label: '自然指数(exponential)',\r\n    value: 7\r\n  },\r\n  {\r\n    label: '极坐标幂(power)',\r\n    value: 8\r\n  },\r\n  {\r\n    label: '射线(rays)',\r\n    value: 9\r\n  },\r\n  {\r\n    label: '割线(secant)',\r\n    value: 10\r\n  },\r\n  {\r\n    label: '球面(spherical)',\r\n    value: 11\r\n  },\r\n  {\r\n    label: '漩涡(swirl)',\r\n    value: 12\r\n  },\r\n  {\r\n    label: '马掌(horseshoe)',\r\n    value: 13\r\n  },\r\n  {\r\n    label: '方巾(handkerchief)',\r\n    value: 14\r\n  },\r\n  {\r\n    label: '心(heart)',\r\n    value: 15\r\n  },\r\n  {\r\n    label: '圆盘(disc)',\r\n    value: 16\r\n  },\r\n  {\r\n    label: '螺旋(spiral)',\r\n    value: 17\r\n  },\r\n  {\r\n    label: '环(ring)',\r\n    value: 18\r\n  },\r\n  {\r\n    label: '钻石(diamond)',\r\n    value: 19\r\n  },\r\n  {\r\n    label: '鱼眼(fisheye)',\r\n    value: 20\r\n  },\r\n  {\r\n    label: '眼鱼(eyefish)',\r\n    value: 21\r\n  },\r\n  {\r\n    label: '爆米花(popcorn)',\r\n    value: 22\r\n  },\r\n  {\r\n    label: '风扇(fan)',\r\n    value: 23\r\n  },\r\n  {\r\n    label: '气泡(bubble)',\r\n    value: 24\r\n  },\r\n  {\r\n    label: '圆柱(cylinder)',\r\n    value: 25\r\n  },\r\n  {\r\n    label: '拱(arch)',\r\n    value: 26\r\n  },\r\n  {\r\n    label: '对角线(ex)',\r\n    value: 27\r\n  },\r\n  {\r\n    label: '十字(cross)',\r\n    value: 28\r\n  },\r\n  {\r\n    label: '刀刃(blade)',\r\n    value: 29\r\n  },\r\n  {\r\n    label: '双三角(twin triangle)',\r\n    value: 30\r\n  },\r\n  {\r\n    label: '朱利亚集(Julia)',\r\n    value: 31\r\n  },\r\n  {\r\n    label: '弯曲(bent)',\r\n    value: 32\r\n  },\r\n  {\r\n    label: '噪音',\r\n    value: 33\r\n  },\r\n  {\r\n    label: '模糊(blur)',\r\n    value: 34\r\n  },\r\n  {\r\n    label: '高斯模糊(Gaussian)',\r\n    value: 35\r\n  },\r\n  {\r\n    label: '方形(square)',\r\n    value: 36\r\n  }\r\n]\r\n\r\nconst sizeLimits = {\r\n  attractorSizeMin: 3,\r\n  attractorSizeMax: 8,\r\n  variationSizeMin: 1,\r\n  variationSizeMax: 6,\r\n  flameTitleLengthMin: 1,\r\n  flameTitleLengthMax: 64\r\n}\r\n\r\nexport { themeOverrides, canvasResolutionOptions, variationOptions, sizeLimits }\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-12753309\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 分形焰火 \")\n_popScopeId()\n\nimport { NIcon, NButton, NSpace, NH2 } from 'naive-ui'\r\nimport { Gripfire } from '@vicons/fa'\r\nimport { useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { key } from '@/store'\r\n\r\n\nexport default _defineComponent({\n  props: {\r\n  routerLink: {\r\n    type: String,\r\n    default: '/'\r\n  }\r\n},\n  setup(__props) {\n\nconst props = __props\r\n\r\n\r\n\r\nconst store = useStore(key)\r\n\r\nconst router = useRouter()\r\n\r\nfunction onClickLogo () {\r\n  store.commit('setIsInEditor', false)\r\n  router.push(props.routerLink)\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NSpace), { size: 24 }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(NButton), {\n        id: \"return-button\",\n        focusable: false,\n        size: \"large\",\n        round: \"\",\n        text: \"\",\n        onClick: onClickLogo\n      }, {\n        icon: _withCtx(() => [\n          _createVNode(_unref(NIcon), {\n            color: \"white\",\n            size: 35\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Gripfire))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(NH2), { id: \"logo-text\" }, {\n        default: _withCtx(() => [\n          _hoisted_1\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./SiderTitle.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SiderTitle.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SiderTitle.vue?vue&type=style&index=0&id=12753309&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-12753309\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-ac74abca\")\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 注册 \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 登录 \")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" 登录 \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" 注册 \")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" 修改信息 \")\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" 登出 \")\n_popScopeId()\n\nimport { computed, h, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport {\r\n  NGrid, NGi, NButton, NModal, NCard, NSpace,\r\n  NForm, NFormItem, NInput,\r\n  NDivider, NAvatar, NIcon, NMenu\r\n} from 'naive-ui'\r\nimport {\r\n  UserCircle as UserIcon,\r\n  Home as HomeIcon,\r\n  Search as BrowseIcon,\r\n  Folder as ArtworkIcon,\r\n  Bookmark as BookmarkIcon,\r\n  DraftingCompass as CreateIcon\r\n} from '@vicons/fa'\r\nimport { key, IUser } from '@/store'\r\nimport { getImageURL } from '@/utils/Helper'\r\nimport SiderTitle from '@/components/SiderTitle.vue'\r\n\r\n\nexport default _defineComponent({\n  setup(__props) {\n\r\n\r\nconst store = useStore(key)\r\nconst router = useRouter()\r\nconst isLogin = computed(() => store.state.isLogin)\r\nconst user = computed(() => store.state.user)\r\n\r\nconst menuOptions = computed(() => {\r\n  return isLogin.value ? menuOptionsIsLogin : menuOptionsNotLogin\r\n})\r\nconst menuOptionsIsLogin = [\r\n  {\r\n    label: '首页',\r\n    key: 'home',\r\n    icon: renderIcon(HomeIcon)\r\n  },\r\n  {\r\n    label: '浏览',\r\n    key: 'browse',\r\n    icon: renderIcon(BrowseIcon)\r\n  },\r\n  {\r\n    label: '新建作品',\r\n    key: 'create',\r\n    icon: renderIcon(CreateIcon)\r\n  },\r\n  {\r\n    label: '我的作品',\r\n    key: 'my-artworks',\r\n    icon: renderIcon(ArtworkIcon)\r\n  },\r\n  {\r\n    label: '我的收藏',\r\n    key: 'my-bookmarks',\r\n    icon: renderIcon(BookmarkIcon)\r\n  }\r\n]\r\nconst menuOptionsNotLogin = [\r\n  {\r\n    label: '首页',\r\n    key: 'home',\r\n    icon: renderIcon(HomeIcon)\r\n  },\r\n  {\r\n    label: '浏览',\r\n    key: 'browse',\r\n    icon: renderIcon(BrowseIcon)\r\n  }\r\n]\r\n\r\nfunction onMenuUpdate (key: string) {\r\n  let routerLink = '/'\r\n  switch (key) {\r\n  case 'home':\r\n    store.commit('setIsInEditor', false)\r\n    routerLink = '/'\r\n    break\r\n  case 'browse':\r\n    store.commit('setIsInEditor', false)\r\n    routerLink = '/artworks'\r\n    break\r\n  case 'create':\r\n    store.commit('createNewFlameInEditor')\r\n    store.commit('setIsInEditor', true)\r\n    routerLink = '/flame'\r\n    break\r\n  case 'my-artworks':\r\n    store.commit('setIsInEditor', false)\r\n    routerLink = '/my-artworks'\r\n    break\r\n  case 'my-bookmarks':\r\n    store.commit('setIsInEditor', false)\r\n    routerLink = '/my-bookmarks'\r\n    break\r\n  }\r\n\r\n  router.push(routerLink)\r\n}\r\n\r\nfunction renderIcon (icon: typeof UserIcon) {\r\n  return () => h(NIcon, null, { default: () => h(icon) })\r\n}\r\n\r\nconst inputShouldShowLoginModal = ref(false)\r\nconst inputLoginFormValue = ref({\r\n  username: '',\r\n  password: ''\r\n})\r\nconst inputLoginFormRef = ref(null)\r\nconst inputLoginFormRules = {\r\n  username: {\r\n    required: true,\r\n    message: '请输入用户名',\r\n    trigger: 'blur'\r\n  },\r\n  password: {\r\n    required: true,\r\n    message: '请输入密码',\r\n    trigger: 'blur'\r\n  }\r\n}\r\n\r\nfunction onLogin () {\r\n  const { username, password } = inputLoginFormValue.value\r\n  if (username && password) {\r\n    const loginUser: IUser = {\r\n      userID: '1',\r\n      username: username\r\n    }\r\n    store.commit('login', loginUser)\r\n    inputShouldShowLoginModal.value = false\r\n  }\r\n}\r\n\r\nconst inputShouldShowRegisterModal = ref(false)\r\nconst inputRegisterFormValue = ref({\r\n  username: '',\r\n  password: '',\r\n  passwordRepeat: ''\r\n})\r\nconst inputRegisterFormRef = ref(null)\r\nconst inputRegisterFormRules = {\r\n  username: [\r\n    {\r\n      required: true,\r\n      message: '请输入用户名',\r\n      trigger: 'blur'\r\n    }\r\n  ],\r\n  password: [\r\n    {\r\n      required: true,\r\n      message: '请输入密码',\r\n      trigger: 'blur'\r\n    }\r\n  ],\r\n  passwordRepeat: [\r\n    {\r\n      required: true,\r\n      validator (rule: unknown, value: string) {\r\n        if (!value) {\r\n          return new Error('请再次输入密码')\r\n        } else if (!(value === inputRegisterFormValue.value.password)) {\r\n          return new Error('两次输入密码不一致')\r\n        }\r\n        return true\r\n      },\r\n      trigger: 'blur'\r\n    }\r\n  ]\r\n}\r\n\r\nconst inputShouldShowUserMenuModal = ref(false)\r\n\r\nfunction onLogout () {\r\n  store.commit('logout')\r\n  inputShouldShowUserMenuModal.value = false\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(SiderTitle, { \"router-link\": \"/\" }),\n    _createVNode(_unref(NDivider)),\n    (_unref(isLogin))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(_unref(NSpace), { justify: \"center\" }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NButton), {\n                size: \"large\",\n                round: \"\",\n                text: \"\",\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (inputShouldShowUserMenuModal.value = true))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(NAvatar), {\n                    id: \"user-avatar\",\n                    size: \"large\",\n                    color: \"rgb(0, 0, 0)\",\n                    \"object-fit\": \"contain\",\n                    src: (_unref(user) && _unref(user).avatar) ? _unref(getImageURL)(_unref(user).avatar) : undefined\n                  }, {\n                    default: _withCtx(() => [\n                      (_unref(user) && !_unref(user).avatar)\n                        ? (_openBlock(), _createBlock(_unref(NIcon), { key: 0 }, {\n                            default: _withCtx(() => [\n                              _createVNode(_unref(UserIcon))\n                            ]),\n                            _: 1\n                          }))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 1\n                  }, 8, [\"src\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createVNode(_unref(NGrid), {\n            col: 24,\n            \"x-gap\": 9,\n            \"y-gap\": 9\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NGi), { span: 12 }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(NButton), {\n                    focusable: false,\n                    class: \"sider-button\",\n                    onClick: _cache[1] || (_cache[1] = ($event: any) => (inputShouldShowRegisterModal.value = true))\n                  }, {\n                    default: _withCtx(() => [\n                      _hoisted_3\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_unref(NGi), { span: 12 }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(NButton), {\n                    focusable: false,\n                    class: \"sider-button\",\n                    onClick: _cache[2] || (_cache[2] = ($event: any) => (inputShouldShowLoginModal.value = true))\n                  }, {\n                    default: _withCtx(() => [\n                      _hoisted_4\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ])),\n    _createVNode(_unref(NDivider)),\n    _createVNode(_unref(NMenu), {\n      options: _unref(menuOptions),\n      \"onUpdate:value\": _cache[3] || (_cache[3] = (key) => { onMenuUpdate(key) })\n    }, null, 8, [\"options\"]),\n    _createVNode(_unref(NModal), {\n      show: inputShouldShowLoginModal.value,\n      \"onUpdate:show\": _cache[7] || (_cache[7] = ($event: any) => (inputShouldShowLoginModal.value = $event))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NCard), {\n          id: \"login-modal-card\",\n          title: \"登录\",\n          size: \"large\",\n          closable: true,\n          onClose: _cache[6] || (_cache[6] = ($event: any) => (inputShouldShowLoginModal.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NForm), {\n              ref: inputLoginFormRef,\n              model: inputLoginFormValue.value,\n              rules: inputLoginFormRules,\n              \"show-require-mark\": false\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NFormItem), {\n                  label: \"用户名\",\n                  path: \"username\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: inputLoginFormValue.value.username,\n                      \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => (inputLoginFormValue.value.username = $event)),\n                      placeholder: \"请输入用户名\",\n                      maxlength: 64\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NFormItem), {\n                  label: \"密码\",\n                  path: \"password\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: inputLoginFormValue.value.password,\n                      \"onUpdate:value\": _cache[5] || (_cache[5] = ($event: any) => (inputLoginFormValue.value.password = $event)),\n                      placeholder: \"请输入密码\",\n                      type: \"password\",\n                      \"show-password-on\": \"mousedown\",\n                      maxlength: 64\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"model\"]),\n            _createVNode(_unref(NButton), {\n              class: \"modal-button\",\n              onClick: onLogin\n            }, {\n              default: _withCtx(() => [\n                _hoisted_5\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createVNode(_unref(NModal), {\n      show: inputShouldShowRegisterModal.value,\n      \"onUpdate:show\": _cache[12] || (_cache[12] = ($event: any) => (inputShouldShowRegisterModal.value = $event))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NCard), {\n          id: \"register-modal-card\",\n          title: \"注册\",\n          size: \"large\",\n          closable: true,\n          onClose: _cache[11] || (_cache[11] = ($event: any) => (inputShouldShowRegisterModal.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NForm), {\n              ref: inputRegisterFormRef,\n              model: inputRegisterFormValue.value,\n              rules: inputRegisterFormRules,\n              \"show-require-mark\": false\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NFormItem), {\n                  label: \"用户名\",\n                  path: \"username\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: inputRegisterFormValue.value.username,\n                      \"onUpdate:value\": _cache[8] || (_cache[8] = ($event: any) => (inputRegisterFormValue.value.username = $event)),\n                      placeholder: \"请输入用户名\",\n                      maxlength: 64\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NFormItem), {\n                  label: \"密码\",\n                  path: \"password\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: inputRegisterFormValue.value.password,\n                      \"onUpdate:value\": _cache[9] || (_cache[9] = ($event: any) => (inputRegisterFormValue.value.password = $event)),\n                      placeholder: \"请输入密码\",\n                      type: \"password\",\n                      \"show-password-on\": \"mousedown\",\n                      maxlength: 64\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NFormItem), {\n                  label: \"密码\",\n                  path: \"passwordRepeat\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NInput), {\n                      value: inputRegisterFormValue.value.passwordRepeat,\n                      \"onUpdate:value\": _cache[10] || (_cache[10] = ($event: any) => (inputRegisterFormValue.value.passwordRepeat = $event)),\n                      placeholder: \"请再次输入密码\",\n                      type: \"password\",\n                      \"show-password-on\": \"mousedown\",\n                      maxlength: 64\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"model\"]),\n            _createVNode(_unref(NButton), { class: \"modal-button\" }, {\n              default: _withCtx(() => [\n                _hoisted_6\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"]),\n    _createVNode(_unref(NModal), {\n      show: inputShouldShowUserMenuModal.value,\n      \"onUpdate:show\": _cache[14] || (_cache[14] = ($event: any) => (inputShouldShowUserMenuModal.value = $event))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NCard), {\n          id: \"user-menu-modal-card\",\n          title: \"我的信息\",\n          size: \"large\",\n          closable: true,\n          onClose: _cache[13] || (_cache[13] = ($event: any) => (inputShouldShowUserMenuModal.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NSpace), {\n              vertical: \"\",\n              align: \"center\",\n              justify: \"center\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NAvatar), {\n                  size: \"large\",\n                  color: \"rgb(0, 0, 0)\",\n                  \"object-fit\": \"contain\",\n                  src: (_unref(user) && _unref(user).avatar) ? _unref(getImageURL)(_unref(user).avatar) : undefined\n                }, {\n                  default: _withCtx(() => [\n                    (_unref(user) && !_unref(user).avatar)\n                      ? (_openBlock(), _createBlock(_unref(NIcon), { key: 0 }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(UserIcon))\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }, 8, [\"src\"]),\n                _createElementVNode(\"p\", null, _toDisplayString(_unref(user) ? _unref(user).username : ''), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(NButton), { class: \"modal-button\" }, {\n              default: _withCtx(() => [\n                _hoisted_7\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(NButton), {\n              class: \"modal-button\",\n              onClick: onLogout\n            }, {\n              default: _withCtx(() => [\n                _hoisted_8\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ], 64))\n}\n}\n\n})","import script from \"./SiderGlobalMenu.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SiderGlobalMenu.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SiderGlobalMenu.vue?vue&type=style&index=0&id=ac74abca&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-ac74abca\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport {\n  NConfigProvider, darkTheme, NMessageProvider,\n  NLayout, NLayoutContent, NLayoutSider\n} from 'naive-ui'\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { key } from '@/store'\nimport { themeOverrides } from './utils/Constants'\nimport SiderGlobalMenu from './components/SiderGlobalMenu.vue'\n\n\nexport default _defineComponent({\n  setup(__props) {\n\n\nconst store = useStore(key)\nconst isInEditor = computed(() => {\n  return store.state.isInEditor\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createBlock(_unref(NConfigProvider), {\n    theme: _unref(darkTheme),\n    \"theme-overrides\": _unref(themeOverrides)\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(NMessageProvider), null, {\n        default: _withCtx(() => [\n          (!_unref(isInEditor))\n            ? (_openBlock(), _createBlock(_unref(NLayout), {\n                key: 0,\n                position: \"absolute\",\n                \"has-sider\": \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(NLayoutSider), {\n                    id: \"sider\",\n                    bordered: \"\",\n                    \"content-style\": \"padding: 24px\",\n                    width: \"280px\",\n                    \"collapse-mode\": \"transform\",\n                    \"collapsed-width\": 0,\n                    \"show-trigger\": \"bar\",\n                    \"native-scrollbar\": false\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(SiderGlobalMenu)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(NLayoutContent), {\n                    id: \"content\",\n                    \"content-style\": \"padding: 24px\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_router_view)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (_unref(isInEditor))\n            ? (_openBlock(), _createBlock(_component_router_view, { key: 1 }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"theme\", \"theme-overrides\"]))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=b9d1b174&lang=css\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-de1fbc8a\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 分形焰火 \")\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"p\", { id: \"banner-text\" }, [\n  /*#__PURE__*/_createTextVNode(\" 使用参数， \"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" 创造绚丽多彩的火焰分形， \"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" 与他人分享。 \")\n], -1)\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 编辑精选 \")\nconst _hoisted_4 = [\"src\"]\n_popScopeId()\n\nimport { computed, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport {\r\n  NGrid, NGi, NSpace,\r\n  NText, NGradientText, NIcon, NDivider, NCarousel\r\n} from 'naive-ui'\r\nimport { Gripfire } from '@vicons/fa'\r\nimport { key } from '@/store'\r\nimport { getImageURL } from '@/utils/Helper'\r\n\r\n\nexport default _defineComponent({\n  setup(__props) {\n\r\n\r\nconst store = useStore(key)\r\nstore.commit('setIsInEditor', false)\r\n\r\nconst carouselImages = computed(() => {\r\n  return store.state.homeCarouselImages\r\n})\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NGrid), { cols: 24 }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(NGi), { span: 12 }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(NIcon), {\n            color: \"white\",\n            size: 60\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Gripfire))\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NText), {\n            id: \"logo-text\",\n            strong: \"\"\n          }, {\n            default: _withCtx(() => [\n              _hoisted_1\n            ]),\n            _: 1\n          }),\n          _hoisted_2\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(NGi), { span: 12 }, {\n        default: _withCtx(() => [\n          _hoisted_3,\n          _createVNode(_unref(NCarousel), {\n            autoplay: \"\",\n            \"show-arrow\": \"\"\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(carouselImages), (item, index) => {\n                return (_openBlock(), _createElementBlock(\"img\", {\n                  key: index,\n                  src: _unref(getImageURL)(item),\n                  class: \"carousel-img\"\n                }, null, 8, _hoisted_4))\n              }), 128))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Home.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=de1fbc8a&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-de1fbc8a\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-07b3c3a0\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 新增变体子 \")\n_popScopeId()\n\nimport { ref, PropType, watch, computed } from 'vue'\r\nimport { cloneDeep } from 'lodash'\r\nimport {\r\n  NForm, NFormItemGi, NGrid, NSpace,\r\n  NInputNumber, NSlider, NColorPicker, NSelect, NButton,\r\n  NIcon\r\n} from 'naive-ui'\r\nimport { Times } from '@vicons/fa'\r\nimport { Attractor, Color, Variation, VariationFunctions } from '@/utils/FractalFlameAlgorithm'\r\nimport { variationOptions, sizeLimits } from '@/utils/Constants'\r\nimport { toFixedNumber } from '@/utils/Helper'\r\n\r\n\nexport default _defineComponent({\n  props: {\r\n  attractor: {\r\n    type: Object as PropType<Attractor>,\r\n    default: new Attractor(false)\r\n  }\r\n},\n  emits: [\r\n  'update:attractor'\r\n],\n  setup(__props, { emit: emits }) {\n\nconst props = __props\r\n\r\n\r\n\r\n\r\n\r\nconst localAttractor = ref<Attractor>(cloneDeep(props.attractor))\r\nconst color = computed(() => {\r\n  return Color.toString(localAttractor.value.color)\r\n})\r\n\r\n// 无需deep watch, 因为假设该组件是改动父级attractor的唯一方式\r\nwatch(() => props.attractor, (value) => {\r\n  localAttractor.value = cloneDeep(value)\r\n})\r\n\r\nfunction updateAttractor (key: string, value: number | string = 0, index = 0) {\r\n  switch (key) {\r\n  case 'affine' :\r\n    localAttractor.value.affineParams[index] = toFixedNumber(value as number, 4)\r\n    emits('update:attractor', localAttractor.value)\r\n    break\r\n  case 'weight':\r\n    localAttractor.value.weight = value as number\r\n    emits('update:attractor', localAttractor.value)\r\n    break\r\n  case 'color':\r\n    localAttractor.value.color = Color.parseString(value as string)\r\n    emits('update:attractor', localAttractor.value)\r\n    break\r\n  case 'variationType':\r\n    localAttractor.value.variations[index].typeIndex = value as number\r\n    localAttractor.value.variations[index].functionInfo = VariationFunctions[value as number]\r\n    emits('update:attractor', localAttractor.value)\r\n    console.log('update attractor variation type: ' + value)\r\n    break\r\n  case 'variationWeight':\r\n    localAttractor.value.variations[index].weight = value as number\r\n    emits('update:attractor', localAttractor.value)\r\n    break\r\n  case 'variationRemove':\r\n    localAttractor.value.variations.splice(index, 1)\r\n    emits('update:attractor', localAttractor.value)\r\n    break\r\n  case 'variationAdd':\r\n    localAttractor.value.variations.push(new Variation(0, toFixedNumber(Math.random(), 4), VariationFunctions[0]))\r\n    emits('update:attractor', localAttractor.value)\r\n    break\r\n  default:\r\n    break\r\n  }\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NForm), null, {\n    default: _withCtx(() => [\n      _createVNode(_unref(NGrid), {\n        cols: 24,\n        \"x-gap\": 12\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(NFormItemGi), {\n            label: \"a\",\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NInputNumber), {\n                value: localAttractor.value.affineParams[0],\n                max: 1,\n                min: -1,\n                \"show-button\": false,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = (value)=>{ updateAttractor('affine', value || 0, 0) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"b\",\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NInputNumber), {\n                value: localAttractor.value.affineParams[1],\n                max: 1,\n                min: -1,\n                \"show-button\": false,\n                \"onUpdate:value\": _cache[1] || (_cache[1] = (value)=>{ updateAttractor('affine', value || 0, 1) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"c\",\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NInputNumber), {\n                value: localAttractor.value.affineParams[2],\n                max: 1,\n                min: -1,\n                \"show-button\": false,\n                \"onUpdate:value\": _cache[2] || (_cache[2] = (value)=>{ updateAttractor('affine', value || 0, 2) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"d\",\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NInputNumber), {\n                value: localAttractor.value.affineParams[3],\n                max: 1,\n                min: -1,\n                \"show-button\": false,\n                \"onUpdate:value\": _cache[3] || (_cache[3] = (value)=>{ updateAttractor('affine', value || 0, 3) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"e\",\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NInputNumber), {\n                value: localAttractor.value.affineParams[4],\n                max: 1,\n                min: -1,\n                \"show-button\": false,\n                \"onUpdate:value\": _cache[4] || (_cache[4] = (value)=>{ updateAttractor('affine', value || 0, 4) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"f\",\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NInputNumber), {\n                value: localAttractor.value.affineParams[5],\n                max: 1,\n                min: -1,\n                \"show-button\": false,\n                \"onUpdate:value\": _cache[5] || (_cache[5] = (value)=>{ updateAttractor('affine', value || 0, 5) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"权重\",\n            span: 12\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NSlider), {\n                value: localAttractor.value.weight,\n                max: 1,\n                min: 0,\n                step: 0.01,\n                marks: { 0: '0', 1: '1' },\n                \"onUpdate:value\": _cache[6] || (_cache[6] = (value)=>{ updateAttractor('weight', value || 0) })\n              }, null, 8, [\"value\", \"step\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"颜色\",\n            span: 12\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NColorPicker), {\n                value: _unref(color),\n                \"show-alpha\": false,\n                \"onUpdate:value\": _cache[7] || (_cache[7] = (value)=>{ updateAttractor('color', value) })\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            label: \"变体子\",\n            span: 24,\n            class: \"variation-form-item\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NSpace), { vertical: \"\" }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(localAttractor.value.variations, (item, index) => {\n                    return (_openBlock(), _createBlock(_unref(NForm), {\n                      id: `variation-form-${index}`,\n                      key: index,\n                      size: \"small\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NGrid), {\n                          cols: 24,\n                          \"x-gap\": 12,\n                          \"y-gap\": 0\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NFormItemGi), {\n                              span: 2,\n                              class: \"variation-form-item\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(index + 1) + \". \", 1)\n                              ]),\n                              _: 2\n                            }, 1024),\n                            _createVNode(_unref(NFormItemGi), {\n                              span: 10,\n                              class: \"variation-form-item\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(NSelect), {\n                                  value: item.typeIndex,\n                                  options: _unref(variationOptions),\n                                  \"onUpdate:value\": (value)=>{ updateAttractor('variationType', value || 0, index) }\n                                }, null, 8, [\"value\", \"options\", \"onUpdate:value\"])\n                              ]),\n                              _: 2\n                            }, 1024),\n                            _createVNode(_unref(NFormItemGi), {\n                              span: 10,\n                              class: \"variation-form-item\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(NSlider), {\n                                  value: item.weight,\n                                  max: 1,\n                                  min: 0,\n                                  step: 0.01,\n                                  \"onUpdate:value\": (value)=>{ updateAttractor('variationWeight', value || 0, index) }\n                                }, null, 8, [\"value\", \"step\", \"onUpdate:value\"])\n                              ]),\n                              _: 2\n                            }, 1024),\n                            _createVNode(_unref(NFormItemGi), {\n                              span: 2,\n                              class: \"variation-form-item\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(NButton), {\n                                  focusable: false,\n                                  disabled: localAttractor.value.variations.length <= 1,\n                                  circle: \"\",\n                                  text: \"\",\n                                  onClick: ($event: any) => (updateAttractor('variationRemove', 0, index))\n                                }, {\n                                  icon: _withCtx(() => [\n                                    _createVNode(_unref(NIcon), null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_unref(Times))\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 2\n                                }, 1032, [\"disabled\", \"onClick\"])\n                              ]),\n                              _: 2\n                            }, 1024)\n                          ]),\n                          _: 2\n                        }, 1024)\n                      ]),\n                      _: 2\n                    }, 1032, [\"id\"]))\n                  }), 128))\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NFormItemGi), {\n            span: 24,\n            class: \"variation-form-item\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NButton), {\n                focusable: false,\n                disabled: localAttractor.value.variations.length >= _unref(sizeLimits).variationSizeMax,\n                class: \"form-button\",\n                onClick: _cache[8] || (_cache[8] = ($event: any) => (updateAttractor('variationAdd', 0, 0)))\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_1\n                ]),\n                _: 1\n              }, 8, [\"disabled\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./SiderAttractorListItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SiderAttractorListItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SiderAttractorListItem.vue?vue&type=style&index=0&id=07b3c3a0&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-07b3c3a0\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, createTextVNode as _createTextVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-7deb1e57\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 新增吸引子 \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" 应用更改 \")\n_popScopeId()\n\nimport { ref, PropType, watch } from 'vue'\r\nimport { cloneDeep } from 'lodash'\r\nimport { NSpace, NCollapse, NCollapseItem, NGrid, NGi, NButton, NIcon } from 'naive-ui'\r\nimport { Times } from '@vicons/fa'\r\nimport { Attractor } from '@/utils/FractalFlameAlgorithm'\r\nimport { sizeLimits } from '@/utils/Constants'\r\nimport SiderAttractorListItem from './SiderAttractorListItem.vue'\r\n\r\n\nexport default _defineComponent({\n  props: {\r\n  attractors: {\r\n    type: Object as PropType<Attractor[]>,\r\n    default: () => {\r\n      return [new Attractor()]\r\n    }\r\n  }\r\n},\n  emits: [\r\n  'update:attractors'\r\n],\n  setup(__props, { emit: emits }) {\n\nconst props = __props\r\n\r\n\r\n\r\n\r\n\r\nconst localAttractors = ref<Attractor[]>(cloneDeep(props.attractors))\r\n\r\nwatch(() => props.attractors, (value) => {\r\n  localAttractors.value = cloneDeep(value)\r\n})\r\n\r\nfunction addAttractor () {\r\n  localAttractors.value.push(new Attractor())\r\n}\r\n\r\nfunction removeAttractor (index: number) {\r\n  // 在表单上验证，这里不再验证\r\n  localAttractors.value.splice(index, 1)\r\n}\r\n\r\nfunction onApplyChange () {\r\n  // TODO 归一化权重\r\n  emits('update:attractors', localAttractors.value)\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NSpace), {\n    vertical: \"\",\n    size: 24\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(NCollapse), null, {\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(localAttractors.value, (item, index) => {\n            return (_openBlock(), _createBlock(_unref(NCollapseItem), {\n              id: `attractor-list-item-${index}`,\n              key: index,\n              title: `吸引子 ${index + 1}`\n            }, {\n              \"header-extra\": _withCtx(() => [\n                _createVNode(_unref(NButton), {\n                  focusable: false,\n                  disabled: localAttractors.value.length <= _unref(sizeLimits).attractorSizeMin,\n                  circle: \"\",\n                  text: \"\",\n                  onClick: ($event: any) => (removeAttractor(index))\n                }, {\n                  icon: _withCtx(() => [\n                    _createVNode(_unref(NIcon), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(Times))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 2\n                }, 1032, [\"disabled\", \"onClick\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(SiderAttractorListItem, {\n                  attractor: localAttractors.value[index],\n                  \"onUpdate:attractor\": ($event: any) => (localAttractors.value[index] = $event)\n                }, null, 8, [\"attractor\", \"onUpdate:attractor\"])\n              ]),\n              _: 2\n            }, 1032, [\"id\", \"title\"]))\n          }), 128))\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(NGrid), {\n        col: 24,\n        \"x-gap\": 9,\n        \"y-gap\": 24\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(NGi), { span: 12 }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NButton), {\n                focusable: false,\n                disabled: localAttractors.value.length >= _unref(sizeLimits).attractorSizeMax,\n                class: \"form-button\",\n                onClick: addAttractor\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_1\n                ]),\n                _: 1\n              }, 8, [\"disabled\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(NGi), { span: 12 }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(NButton), {\n                focusable: false,\n                class: \"form-button\",\n                onClick: onApplyChange\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_2\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./SiderAttractorList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SiderAttractorList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SiderAttractorList.vue?vue&type=style&index=0&id=7deb1e57&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-7deb1e57\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-d19aaf90\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 保存并上传 \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" 下载图像 \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 渲染图像 \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 应用设置 \")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" 随机生成参数 \")\nconst _hoisted_6 = [\"width\", \"height\"]\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" 提交修改 \")\n_popScopeId()\n\nimport {\r\n  NLayout, NLayoutContent, NLayoutSider, NSpace, NGrid, NGi,\r\n  NCollapse, NCollapseItem, NDescriptions, NDescriptionsItem, NForm, NFormItem,\r\n  NCascader, NCheckbox, NDivider, NButton, NSlider, NSelect, NSwitch, NInput,\r\n  useMessage, NH2, NIcon, NModal, NCard\r\n} from 'naive-ui'\r\nimport { Edit } from '@vicons/fa'\r\nimport { computed, nextTick, onMounted, ref, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { cloneDeep } from 'lodash'\r\nimport { key } from '@/store'\r\nimport { Attractor, Point, generateRandomChosenVariations, generateRandomAttractors, VariationFunctions } from '@/utils/FractalFlameAlgorithm'\r\nimport { normalizeArray, randomWeightedPick, toCNDatetimeString } from '@/utils/Helper'\r\nimport { canvasResolutionOptions, variationOptions, sizeLimits } from '@/utils/Constants'\r\nimport SiderTitle from '@/components/SiderTitle.vue'\r\nimport SiderAttractorList from '@/components/SiderAttractorList.vue'\r\n\r\n\nexport default _defineComponent({\n  setup(__props) {\n\r\n\r\nconst store = useStore(key)\r\nstore.commit('setIsInEditor', true)\r\nconst flameInEditor = computed(() => store.state.flameInEditor)\r\nconst nMessage = useMessage()\r\n// DOM对象\r\nconst canvasRef = ref<HTMLCanvasElement>()\r\nconst downloadLinkRef = ref<HTMLAnchorElement>()\r\nlet canvasContext: CanvasRenderingContext2D | null | undefined\r\n// 作品信息\r\nconst title = ref('')\r\nconst createdAt = ref(0)\r\nconst lastUpdatedAt = ref(0)\r\n// 画布设置\r\nconst canvasWidth = ref(512)\r\nconst canvasHeight = ref(512)\r\nconst canvasWidthRatio = computed(() => {\r\n  return canvasWidth.value > canvasHeight.value ? canvasWidth.value / canvasHeight.value : 1\r\n})\r\nconst canvasHeightRatio = computed(() => {\r\n  return canvasHeight.value > canvasWidth.value ? canvasHeight.value / canvasWidth.value : 1\r\n})\r\n// 吸引子设置\r\nconst attractors = ref<Attractor[]>([])\r\nlet currentWeights: number[] // 缓存吸引子权重，由于吸引子结构复杂，故手动更新\r\n// 计算统计\r\nconst maxFrequency = ref(0)\r\nconst pointsCalculated = ref(0)\r\nconst pointsRendered = ref(0)\r\nconst frameRate = ref(60)\r\nlet lastFrameTimeStamp: number\r\n// 渲染参数\r\nconst gamma = ref(1)\r\n// 内部数据存储\r\nlet imageData : ImageData\r\nlet histogramData : Uint32Array\r\nlet drawPoint : Point\r\n// 渲染器状态\r\nconst drawCallsPerFrame = ref(1000)\r\nconst isRunning = ref(false)\r\nlet currentAnimationFrameHandle: number\r\n// 随机化设置\r\nconst shouldUseSelectedVariations = ref(false)\r\nconst selectedVariations = ref<number[]>([])\r\nconst attractorsSizeRandomRange = ref<[number, number]>([3, 6])\r\nconst variationSizeRandomRange = ref<[number, number]>([1, 6])\r\n// 表单输入信息（性能原因，需要点击按钮应用更改才能改动真实的参数，因此管理多一份参数对应表单）\r\nconst inputCanvasResolution = ref('')\r\nconst inputShouldInvertCanvasResolution = ref(false)\r\nconst inputShouldShowRenameTitleModal = ref(false)\r\nconst inputTitle = ref(title.value)\r\n// 动态调整帧率参数\r\nconst dynamicDrawCallsFrameRateThresholdHigh = 60\r\nconst dynamicDrawCallsFrameRateThresholdLow = 50\r\nconst dynamicDrawCallsAdjustRate = 0.05\r\n// 绘制率过低提示参数\r\nconst lowRenderPercentageWarningThreshold = 10\r\n\r\nconst pointsRenderPercentage = computed(() => {\r\n  return pointsRendered.value / pointsCalculated.value * 100\r\n})\r\n// 表单验证\r\nconst inputValidationSelectedVariations = computed(() => {\r\n  if (!shouldUseSelectedVariations.value) {\r\n    return 'success'\r\n  }\r\n  if (selectedVariations.value.length > 6) {\r\n    return 'warning'\r\n  } else if (selectedVariations.value.length > 0) {\r\n    return 'success'\r\n  } else {\r\n    return 'error'\r\n  }\r\n})\r\n\r\nconst inputFeedbackSelectedVariations = computed(() => {\r\n  if (!shouldUseSelectedVariations.value) {\r\n    return undefined\r\n  }\r\n  if (selectedVariations.value.length > 6) {\r\n    return '变体子种类较多，可能会影响性能'\r\n  } else if (selectedVariations.value.length > 0) {\r\n    return undefined\r\n  } else {\r\n    return '请选择至少1个变体子'\r\n  }\r\n})\r\n\r\n// 监听isRunning，控制计算过程\r\nwatch(isRunning, (newValue) => {\r\n  if (newValue) {\r\n    lastFrameTimeStamp = performance.now() // 初始化帧率计算\r\n    currentAnimationFrameHandle = requestAnimationFrame(step)\r\n  } else {\r\n    window.cancelAnimationFrame(currentAnimationFrameHandle)\r\n  }\r\n})\r\n\r\nonMounted(() => {\r\n  // 将store中的数据克隆到本地\r\n  if (flameInEditor.value) {\r\n    title.value = flameInEditor.value.title\r\n    createdAt.value = flameInEditor.value.createdAt\r\n    lastUpdatedAt.value = flameInEditor.value.lastUpdatedAt\r\n    canvasWidth.value = flameInEditor.value.canvasWidth\r\n    canvasHeight.value = flameInEditor.value.canvasHeight\r\n    gamma.value = flameInEditor.value.gamma\r\n    attractors.value = cloneDeep(flameInEditor.value.attractors)\r\n    maxFrequency.value = flameInEditor.value.maxFrequency\r\n    pointsCalculated.value = flameInEditor.value.pointsCalculated\r\n    pointsRendered.value = flameInEditor.value.pointsRendered\r\n\r\n    imageData = new ImageData(flameInEditor.value.imageData.data, canvasWidth.value, canvasHeight.value)\r\n    histogramData = new Uint32Array(flameInEditor.value.histogramData)\r\n    drawPoint = Object.create(flameInEditor.value.drawPoint)\r\n    // 计算权重缓存\r\n    currentWeights = normalizeArray(attractors.value.map(val => val.weight), 1, true, 4)\r\n    // 赋值给表单用的变量\r\n    inputShouldInvertCanvasResolution.value = canvasHeight.value > canvasWidth.value\r\n    if (inputShouldInvertCanvasResolution.value) {\r\n      inputCanvasResolution.value = `{\"width\": ${canvasHeight.value}, \"height\": ${canvasWidth.value}}`\r\n    } else {\r\n      inputCanvasResolution.value = `{\"width\": ${canvasWidth.value}, \"height\": ${canvasHeight.value}}`\r\n    }\r\n    inputTitle.value = title.value\r\n  }\r\n\r\n  if (canvasRef.value) {\r\n    canvasContext = canvasRef.value?.getContext('2d')\r\n  }\r\n})\r\n\r\nfunction onToggleCanvasRunning () {\r\n  isRunning.value = !isRunning.value\r\n}\r\n\r\nfunction onRerollParameters () {\r\n  // 自定义表单验证：使用指定变体子，但没有选择变体子\r\n  if (shouldUseSelectedVariations.value && !selectedVariations.value.length) {\r\n    nMessage.error('无法随机化参数。请至少选择1种变体子')\r\n    return\r\n  }\r\n  isRunning.value = false\r\n  reset()\r\n  if (!shouldUseSelectedVariations.value) { // 不使用指定的吸引子种类，则随机化\r\n    selectedVariations.value = generateRandomChosenVariations(\r\n      variationSizeRandomRange.value[0],\r\n      variationSizeRandomRange.value[1],\r\n      VariationFunctions\r\n    )\r\n  }\r\n  attractors.value = generateRandomAttractors(\r\n    attractorsSizeRandomRange.value[0],\r\n    attractorsSizeRandomRange.value[1],\r\n    selectedVariations.value,\r\n    VariationFunctions\r\n  )\r\n  currentWeights = normalizeArray(attractors.value.map(val => val.weight), 1, true, 4)\r\n  isRunning.value = true\r\n  // 如果新随机的参数较差，则提醒用户调整参数\r\n  setTimeout(() => {\r\n    checkLowRenderPercentage()\r\n  }, 1000)\r\n}\r\n\r\n// 将HistogramData渲染到canvas上（基于对数着色，gamma，更新imageData的值）\r\nfunction onRenderCanvas () {\r\n  isRunning.value = false\r\n  const { width, height, data } = imageData\r\n  for (let row = 0; row < height; row++) {\r\n    for (let column = 0; column < width; column++) {\r\n      const index = row * width * 4 + column * 4\r\n      const freq = histogramData[index + 3]\r\n\r\n      if (freq > 0) {\r\n        const alpha = Math.pow(Math.log(freq) / Math.log(maxFrequency.value), 1 / gamma.value)\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n          data[index + i] = Math.round(alpha * histogramData[index + i] / freq)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (canvasContext) {\r\n    canvasContext.putImageData(imageData, 0, 0)\r\n  }\r\n}\r\n\r\n// 保存canvas图片到本地\r\nfunction onDownloadImage () {\r\n  isRunning.value = false\r\n  if (canvasRef.value && downloadLinkRef.value) {\r\n    downloadLinkRef.value.setAttribute('download', `FracFlame_${flameInEditor.value?.title}_${toCNDatetimeString(Date.now())}.png`)\r\n    downloadLinkRef.value.setAttribute('href', canvasRef.value.toDataURL('image/png').replace('image/png', 'image/octet-stream'))\r\n    downloadLinkRef.value.click()\r\n  }\r\n}\r\n\r\nasync function onApplyCanvasSettings () {\r\n  isRunning.value = false\r\n  const canvasResolution = JSON.parse(inputCanvasResolution.value)\r\n  if (inputShouldInvertCanvasResolution.value) {\r\n    canvasWidth.value = canvasResolution.height\r\n    canvasHeight.value = canvasResolution.width\r\n  } else {\r\n    canvasWidth.value = canvasResolution.width\r\n    canvasHeight.value = canvasResolution.height\r\n  }\r\n  await nextTick() // 应用对canvas的修改\r\n  reset()\r\n  isRunning.value = true\r\n}\r\n\r\nfunction onApplyAttractorsSettings (newAttractors: Attractor[]) {\r\n  isRunning.value = false\r\n  reset()\r\n  attractors.value = newAttractors\r\n  currentWeights = normalizeArray(attractors.value.map(val => val.weight), 1, true, 4)\r\n  isRunning.value = true\r\n  // 如果新随机的参数较差，则提醒用户调整参数\r\n  setTimeout(() => {\r\n    checkLowRenderPercentage()\r\n  }, 1000)\r\n}\r\n\r\nfunction onRenameTitle () {\r\n  if (inputTitle.value && inputTitle.value.length > 0) {\r\n    title.value = inputTitle.value\r\n    inputShouldShowRenameTitleModal.value = false\r\n  }\r\n}\r\n\r\nfunction step () {\r\n  if (isRunning.value) {\r\n    drawFlame()\r\n    // 计算帧率\r\n    frameRate.value = 1000 / (performance.now() - lastFrameTimeStamp)\r\n    lastFrameTimeStamp = performance.now()\r\n    currentAnimationFrameHandle = window.requestAnimationFrame(step)\r\n    // 动态调整帧率\r\n    if (frameRate.value > dynamicDrawCallsFrameRateThresholdHigh) {\r\n      drawCallsPerFrame.value = Math.round(drawCallsPerFrame.value * (1 + dynamicDrawCallsAdjustRate))\r\n    } else if (frameRate.value < dynamicDrawCallsFrameRateThresholdLow) {\r\n      drawCallsPerFrame.value = Math.round(drawCallsPerFrame.value * (1 - dynamicDrawCallsAdjustRate))\r\n    }\r\n  }\r\n}\r\n\r\n// 每帧调用一次，计算drawCallsPerFrame次，将imageData绘制在canvas上\r\nfunction drawFlame () {\r\n  let pointsRenderedInFrame = 0\r\n  for (let i = 0; i < drawCallsPerFrame.value; i++) {\r\n    const index = randomWeightedPick(currentWeights) // 随机选择一个attractor\r\n    attractors.value[index].apply(drawPoint)\r\n    if (writeCurrentPoint()) {\r\n      pointsRenderedInFrame++\r\n    }\r\n  }\r\n  if (canvasContext) {\r\n    canvasContext.putImageData(imageData, 0, 0)\r\n  }\r\n  pointsRendered.value += pointsRenderedInFrame\r\n  pointsCalculated.value += drawCallsPerFrame.value\r\n}\r\n\r\n// 将currentPoint写到imageData以及histogramData上\r\nfunction writeCurrentPoint () {\r\n  // 坐标转化到canvas标系\r\n  const { x, y, color } = drawPoint\r\n  const { width, height, data } = imageData\r\n  const dx = Math.round((x * 1 / canvasWidthRatio.value + 1) * width / 2)\r\n  const dy = Math.round((y * 1 / canvasHeightRatio.value + 1) * height / 2)\r\n\r\n  // 检测坐标是否在画布范围内\r\n  if (dx < width && dx >= 0 && dy < height && dy >= 0) {\r\n    const index = dy * width * 4 + dx * 4\r\n    data[index] = (color.r + data[index]) / 2\r\n    data[index + 1] = (color.g + data[index + 1]) / 2\r\n    data[index + 2] = (color.b + data[index + 2]) / 2\r\n    data[index + 3] = 255\r\n\r\n    histogramData[index] += color.r\r\n    histogramData[index + 1] += color.g\r\n    histogramData[index + 2] += color.b\r\n    const freq = ++histogramData[index + 3]\r\n    if (freq > maxFrequency.value) {\r\n      maxFrequency.value = freq // 更新最大采样频率\r\n    }\r\n\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nfunction reset () {\r\n  if (canvasRef.value && canvasContext) {\r\n    const { width, height } = canvasRef.value\r\n    canvasContext.clearRect(0, 0, width, height)\r\n    canvasContext.fillRect(0, 0, width, height)\r\n    imageData = canvasContext.getImageData(0, 0, width, height)\r\n    histogramData = new Uint32Array(width * height * 4)\r\n    drawPoint = new Point(true)\r\n    maxFrequency.value = 0\r\n    pointsCalculated.value = 0\r\n    pointsRendered.value = 0\r\n    drawCallsPerFrame.value = 1000\r\n  }\r\n}\r\n\r\nfunction checkLowRenderPercentage () {\r\n  if (pointsRenderPercentage.value < lowRenderPercentageWarningThreshold) {\r\n    nMessage.warning('当前点绘制率过低，建议调整参数')\r\n  }\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_unref(NLayout), {\n      position: \"absolute\",\n      \"has-sider\": \"\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NLayoutSider), {\n          id: \"sider\",\n          bordered: \"\",\n          \"content-style\": \"padding: 24px\",\n          width: \"400px\",\n          \"collapse-mode\": \"transform\",\n          \"collapsed-width\": 0,\n          \"show-trigger\": \"bar\",\n          \"native-scrollbar\": false\n        }, {\n          default: _withCtx(() => [\n            _createVNode(SiderTitle, { \"router-link\": \"/my-artworks\" }),\n            _createVNode(_unref(NDivider)),\n            _createVNode(_unref(NGrid), {\n              col: 24,\n              \"x-gap\": 9,\n              \"y-gap\": 9\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NGi), { span: 22 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NH2), {\n                      id: \"flame-title\",\n                      prefix: \"bar\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(title.value), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NGi), { span: 2 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NButton), {\n                      size: \"large\",\n                      focusable: false,\n                      round: \"\",\n                      text: \"\",\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (inputShouldShowRenameTitleModal.value = true))\n                    }, {\n                      icon: _withCtx(() => [\n                        _createVNode(_unref(NIcon), { size: 20 }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(Edit))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NGi), { span: 12 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NButton), {\n                      focusable: false,\n                      class: \"form-button\",\n                      onClick: onDownloadImage\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_1\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NGi), { span: 12 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NButton), {\n                      focusable: false,\n                      class: \"form-button\",\n                      onClick: onDownloadImage\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_2\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(NDivider)),\n            _createVNode(_unref(NCollapse), null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NCollapseItem), { title: \"基础信息\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NDescriptions), {\n                      column: 1,\n                      bordered: \"\",\n                      \"label-placement\": \"left\",\n                      \"label-align\": \"right\",\n                      size: \"small\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NDescriptionsItem), { label: \"创建于\" }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_unref(toCNDatetimeString)(createdAt.value)), 1)\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NDescriptionsItem), { label: \"上次更新于\" }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_unref(toCNDatetimeString)(lastUpdatedAt.value)), 1)\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NDescriptionsItem), { label: \"画布大小\" }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(canvasWidth.value) + \" * \" + _toDisplayString(canvasHeight.value) + \" px \", 1)\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCollapseItem), { title: \"计算控制\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NSpace), { vertical: \"\" }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NDescriptions), {\n                          column: 1,\n                          bordered: \"\",\n                          \"label-placement\": \"left\",\n                          \"label-align\": \"right\",\n                          size: \"small\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NDescriptionsItem), { label: \"已计算点\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(pointsCalculated.value.toExponential(3)) + \" 个 \", 1)\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_unref(NDescriptionsItem), { label: \"已绘制点\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(pointsRendered.value.toExponential(3)) + \" 个 \", 1)\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_unref(NDescriptionsItem), { label: \"绘制率\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(_unref(pointsRenderPercentage).toFixed(2)) + \" % \", 1)\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_unref(NDescriptionsItem), { label: \"最大采样频次\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(maxFrequency.value) + \" 次 \", 1)\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_unref(NDescriptionsItem), { label: \"运行帧率\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(isRunning.value ? frameRate.value.toFixed(0) : '-') + \" 帧/每秒 \", 1)\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_unref(NDescriptionsItem), { label: \"每帧计算\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(isRunning.value ? drawCallsPerFrame.value : '-') + \" 次 \", 1)\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NButton), {\n                          focusable: false,\n                          class: \"form-button\",\n                          onClick: onToggleCanvasRunning\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(isRunning.value ? '暂停计算' : '开始计算'), 1)\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCollapseItem), { title: \"渲染控制\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NForm), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NFormItem), { label: \"伽马校正值\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NSlider), {\n                              value: gamma.value,\n                              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => (gamma.value = $event)),\n                              max: 4,\n                              min: 0.1,\n                              step: 0.1,\n                              marks: { 1:'1.0', 2.2:'2.2' }\n                            }, null, 8, [\"value\", \"min\", \"step\", \"marks\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NButton), {\n                      focusable: false,\n                      class: \"form-button\",\n                      onClick: onRenderCanvas\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_3\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCollapseItem), { title: \"画布设置\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NForm), {\n                      \"label-placement\": \"left\",\n                      \"label-align\": \"right\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NFormItem), { label: \"画布大小\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NCascader), {\n                              value: inputCanvasResolution.value,\n                              \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => (inputCanvasResolution.value = $event)),\n                              \"leaf-only\": \"\",\n                              \"expand-trigger\": \"hover\",\n                              \"show-path\": false,\n                              options: _unref(canvasResolutionOptions)\n                            }, null, 8, [\"value\", \"options\"])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NFormItem), { label: \"反转长/高\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NCheckbox), {\n                              checked: inputShouldInvertCanvasResolution.value,\n                              \"onUpdate:checked\": _cache[3] || (_cache[3] = ($event: any) => (inputShouldInvertCanvasResolution.value = $event)),\n                              focusable: false\n                            }, null, 8, [\"checked\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NButton), {\n                      focusable: false,\n                      class: \"form-button\",\n                      onClick: onApplyCanvasSettings\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_4\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCollapseItem), { title: \"随机化\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NForm), null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NFormItem), { label: \"吸引子个数（范围）\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NSlider), {\n                              value: attractorsSizeRandomRange.value,\n                              \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => (attractorsSizeRandomRange.value = $event)),\n                              range: \"\",\n                              min: _unref(sizeLimits).attractorSizeMin,\n                              max: _unref(sizeLimits).attractorSizeMax,\n                              step: 1,\n                              marks: { 3: '3', 8: '8' }\n                            }, null, 8, [\"value\", \"min\", \"max\"])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NFormItem), { label: \"变体子种类个数（范围）\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NSlider), {\n                              value: variationSizeRandomRange.value,\n                              \"onUpdate:value\": _cache[5] || (_cache[5] = ($event: any) => (variationSizeRandomRange.value = $event)),\n                              disabled: shouldUseSelectedVariations.value,\n                              range: \"\",\n                              min: _unref(sizeLimits).variationSizeMin,\n                              max: _unref(sizeLimits).variationSizeMax,\n                              step: 1,\n                              marks: { 1: '1', 6: '6' }\n                            }, null, 8, [\"value\", \"disabled\", \"min\", \"max\"])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NFormItem), {\n                          label: \"使用指定变体子\",\n                          \"label-placement\": \"left\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NSwitch), {\n                              value: shouldUseSelectedVariations.value,\n                              \"onUpdate:value\": _cache[6] || (_cache[6] = ($event: any) => (shouldUseSelectedVariations.value = $event))\n                            }, null, 8, [\"value\"])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_unref(NFormItem), {\n                          label: \"指定变体子种类范围\",\n                          \"validation-status\": _unref(inputValidationSelectedVariations),\n                          feedback: _unref(inputFeedbackSelectedVariations)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(NSelect), {\n                              value: selectedVariations.value,\n                              \"onUpdate:value\": _cache[7] || (_cache[7] = ($event: any) => (selectedVariations.value = $event)),\n                              multiple: \"\",\n                              options: _unref(variationOptions),\n                              disabled: !shouldUseSelectedVariations.value\n                            }, null, 8, [\"value\", \"options\", \"disabled\"])\n                          ]),\n                          _: 1\n                        }, 8, [\"validation-status\", \"feedback\"])\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NButton), {\n                      focusable: false,\n                      class: \"form-button\",\n                      onClick: onRerollParameters\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_5\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(NCollapseItem), { title: \"吸引子参数\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(SiderAttractorList, {\n                      attractors: attractors.value,\n                      \"onUpdate:attractors\": onApplyAttractorsSettings\n                    }, null, 8, [\"attractors\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(NDivider))\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(NLayoutContent), {\n          id: \"canvas-container\",\n          \"content-style\": \"padding: 24px\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"canvas\", {\n              id: \"flame-canvas\",\n              ref: canvasRef,\n              width: canvasWidth.value,\n              height: canvasHeight.value\n            }, null, 8, _hoisted_6),\n            _createElementVNode(\"a\", {\n              ref: downloadLinkRef,\n              hidden: \"\"\n            }, null, 512)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(NModal), {\n      show: inputShouldShowRenameTitleModal.value,\n      \"onUpdate:show\": _cache[10] || (_cache[10] = ($event: any) => (inputShouldShowRenameTitleModal.value = $event))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NCard), {\n          id: \"rename-title-modal-card\",\n          title: \"修改标题\",\n          size: \"large\",\n          closable: true,\n          onClose: _cache[9] || (_cache[9] = ($event: any) => (inputShouldShowRenameTitleModal.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NInput), {\n              value: inputTitle.value,\n              \"onUpdate:value\": _cache[8] || (_cache[8] = ($event: any) => (inputTitle.value = $event)),\n              placeholder: \"请输入新的标题\",\n              size: \"large\",\n              minlength: _unref(sizeLimits).flameTitleLengthMin,\n              maxlength: _unref(sizeLimits).flameTitleLengthMax,\n              \"show-count\": \"\"\n            }, null, 8, [\"value\", \"minlength\", \"maxlength\"]),\n            _createVNode(_unref(NButton), {\n              focusable: false,\n              class: \"modal-button\",\n              disabled: inputTitle.value.length < _unref(sizeLimits).flameTitleLengthMin,\n              onClick: onRenameTitle\n            }, {\n              default: _withCtx(() => [\n                _hoisted_7\n              ]),\n              _: 1\n            }, 8, [\"disabled\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ], 64))\n}\n}\n\n})","import script from \"./FlameEditor.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FlameEditor.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FlameEditor.vue?vue&type=style&index=0&id=d19aaf90&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-d19aaf90\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-df733972\")\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 编辑作品 \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 删除作品 \")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" 收藏作品 \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" 复制到我的作品 \")\n_popScopeId()\n\nimport { PropType, ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport {\r\n  NCard, NIcon, NSpace, NModal, NGrid, NGi,\r\n  NDescriptions, NDescriptionsItem, NButton\r\n} from 'naive-ui'\r\nimport { User } from '@vicons/fa'\r\nimport { IArtwork } from '@/store'\r\nimport { getImageURL, toCNDatetimeString } from '@/utils/Helper'\r\n\r\n\nexport default _defineComponent({\n  props: {\r\n  artwork: {\r\n    type: Object as PropType<IArtwork>,\r\n    default: () => { return {} }\r\n  },\r\n  isMyArtwork: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  isLogin: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n},\n  setup(__props) {\n\nconst props = __props\r\n\r\n\r\n\r\nconst router = useRouter()\r\n\r\nconst inputShouldShowArtworkModal = ref(false)\r\n\r\nfunction onOpenArtwork () {\r\n  router.push('/flame')\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_unref(NCard), {\n      id: \"artwork-card\",\n      title: __props.artwork.title,\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (inputShouldShowArtworkModal.value = true))\n    }, {\n      cover: _withCtx(() => [\n        _createElementVNode(\"img\", {\n          src: _unref(getImageURL)(__props.artwork.imageURL)\n        }, null, 8, _hoisted_1)\n      ]),\n      default: _withCtx(() => [\n        (!__props.isMyArtwork)\n          ? (_openBlock(), _createBlock(_unref(NSpace), { key: 0 }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(NIcon), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(User))\n                  ]),\n                  _: 1\n                }),\n                _createElementVNode(\"span\", null, _toDisplayString(__props.artwork.username), 1)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }, 8, [\"title\"]),\n    _createVNode(_unref(NModal), {\n      show: inputShouldShowArtworkModal.value,\n      \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => (inputShouldShowArtworkModal.value = $event))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(NCard), {\n          id: \"artwork-modal-card\",\n          title: \"作品详情\",\n          size: \"large\",\n          closable: true,\n          onClose: _cache[1] || (_cache[1] = ($event: any) => (inputShouldShowArtworkModal.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(NSpace), {\n              vertical: \"\",\n              align: \"center\",\n              justify: \"center\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"img\", {\n                  id: \"artwork-modal-image\",\n                  src: _unref(getImageURL)(__props.artwork.imageURL)\n                }, null, 8, _hoisted_2),\n                _createVNode(_unref(NDescriptions), {\n                  id: \"artwork-modal-description\",\n                  column: 2,\n                  bordered: \"\",\n                  \"label-placement\": \"left\",\n                  \"label-align\": \"right\",\n                  size: \"small\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NDescriptionsItem), { label: \"作者\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(__props.artwork.username), 1)\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NDescriptionsItem), { label: \"画布大小\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(__props.artwork.canvasWidth) + \" * \" + _toDisplayString(__props.artwork.canvasHeight) + \" px \", 1)\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NDescriptionsItem), { label: \"创建于\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_unref(toCNDatetimeString)(__props.artwork.createdAt)), 1)\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NDescriptionsItem), { label: \"上次更新于\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_unref(toCNDatetimeString)(__props.artwork.lastUpdatedAt)), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            (__props.isMyArtwork)\n              ? (_openBlock(), _createBlock(_unref(NGrid), {\n                  key: 0,\n                  cols: 24,\n                  \"x-gap\": 24\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(NGi), { span: 12 }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NButton), {\n                          class: \"modal-button\",\n                          onClick: onOpenArtwork\n                        }, {\n                          default: _withCtx(() => [\n                            _hoisted_3\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_unref(NGi), { span: 12 }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(NButton), { class: \"modal-button\" }, {\n                          default: _withCtx(() => [\n                            _hoisted_4\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }))\n              : (__props.isLogin)\n                ? (_openBlock(), _createBlock(_unref(NGrid), {\n                    key: 1,\n                    cols: 24,\n                    \"x-gap\": 24\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(NGi), { span: 12 }, {\n                        default: _withCtx(() => [\n                          _createVNode(_unref(NButton), { class: \"modal-button\" }, {\n                            default: _withCtx(() => [\n                              _hoisted_5\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_unref(NGi), { span: 12 }, {\n                        default: _withCtx(() => [\n                          _createVNode(_unref(NButton), { class: \"modal-button\" }, {\n                            default: _withCtx(() => [\n                              _hoisted_6\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ], 64))\n}\n}\n\n})","import script from \"./ArtworkCard.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ArtworkCard.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ArtworkCard.vue?vue&type=style&index=0&id=df733972&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-df733972\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 浏览 \")\n\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { NH1, NGrid, NGi } from 'naive-ui'\r\nimport { key } from '@/store'\r\nimport ArtworkCard from '@/components/ArtworkCard.vue'\r\n\r\n\nexport default _defineComponent({\n  setup(__props) {\n\r\n\r\nconst store = useStore(key)\r\nconst artworks = computed(() => {\r\n  return store.state.artworks\r\n})\r\nconst isLogin = computed(() => {\r\n  return store.state.isLogin\r\n})\r\nstore.commit('setIsInEditor', false)\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_unref(NH1), null, {\n      default: _withCtx(() => [\n        _hoisted_1\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(NGrid), {\n      cols: 24,\n      \"x-gap\": 24\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(artworks), (item, index) => {\n          return (_openBlock(), _createBlock(_unref(NGi), {\n            key: index,\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(ArtworkCard, {\n                artwork: _unref(artworks) ? _unref(artworks)[index] : undefined,\n                \"is-my-artwork\": false,\n                \"is-login\": _unref(isLogin)\n              }, null, 8, [\"artwork\", \"is-login\"])\n            ]),\n            _: 2\n          }, 1024))\n        }), 128))\n      ]),\n      _: 1\n    })\n  ], 64))\n}\n}\n\n})","import script from \"./Artworks.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Artworks.vue?vue&type=script&lang=ts&setup=true\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 我的作品 \")\n\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { NH1, NGrid, NGi } from 'naive-ui'\r\nimport { key } from '@/store'\r\nimport ArtworkCard from '@/components/ArtworkCard.vue'\r\n\r\n\nexport default _defineComponent({\n  setup(__props) {\n\r\n\r\nconst store = useStore(key)\r\nstore.commit('setIsInEditor', false)\r\n\r\nconst artworks = computed(() => {\r\n  return store.state.artworks\r\n})\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_unref(NH1), null, {\n      default: _withCtx(() => [\n        _hoisted_1\n      ]),\n      _: 1\n    }),\n    _createVNode(_unref(NGrid), {\n      cols: 24,\n      \"x-gap\": 24\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(artworks), (item, index) => {\n          return (_openBlock(), _createBlock(_unref(NGi), {\n            key: index,\n            span: 8\n          }, {\n            default: _withCtx(() => [\n              _createVNode(ArtworkCard, {\n                artwork: _unref(artworks) ? _unref(artworks)[index] : undefined,\n                \"is-my-artwork\": true\n              }, null, 8, [\"artwork\"])\n            ]),\n            _: 2\n          }, 1024))\n        }), 128))\n      ]),\n      _: 1\n    })\n  ], 64))\n}\n}\n\n})","import script from \"./MyArtworks.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MyArtworks.vue?vue&type=script&lang=ts&setup=true\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 我的收藏 \")\n\nimport { ref, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { NH1, NGrid, NGi } from 'naive-ui'\r\nimport { key } from '@/store'\r\nimport ArtworkCard from '@/components/ArtworkCard.vue'\r\n\r\n\nexport default _defineComponent({\n  setup(__props) {\n\r\n\r\nconst store = useStore(key)\r\nstore.commit('setIsInEditor', false)\r\n\r\nconst artworks = computed(() => {\r\n  return store.state.artworks\r\n})\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(NH1), null, {\n    default: _withCtx(() => [\n      _hoisted_1\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./MyBookmarks.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MyBookmarks.vue?vue&type=script&lang=ts&setup=true\"\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router'\r\nimport Home from '@/views/Home.vue'\r\nimport FlameEditor from '@/views/FlameEditor.vue'\r\nimport Artworks from '@/views/Artworks.vue'\r\nimport MyArtworks from '@/views/MyArtworks.vue'\r\nimport MyBookmarks from '@/views/MyBookmarks.vue'\r\n\r\nconst routerHistory = createWebHistory()\r\n\r\nconst router = createRouter({\r\n  history: routerHistory,\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: Home\r\n    },\r\n    {\r\n      path: '/flame',\r\n      name: 'flame',\r\n      component: FlameEditor\r\n    },\r\n    {\r\n      path: '/artworks',\r\n      name: 'artworks',\r\n      component: Artworks\r\n    },\r\n    {\r\n      path: '/my-artworks',\r\n      name: 'myArtworks',\r\n      component: MyArtworks\r\n    },\r\n    {\r\n      path: '/my-bookmarks',\r\n      name: 'myBookmarks',\r\n      component: MyBookmarks\r\n    }\r\n  ]\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { store, key } from './store'\n\nconst app = createApp(App)\n\napp.use(router)\napp.use(store, key)\n\napp.mount('#app')\n","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=b9d1b174&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SiderTitle.vue?vue&type=style&index=0&id=12753309&scoped=true&lang=css\""],"sourceRoot":""}